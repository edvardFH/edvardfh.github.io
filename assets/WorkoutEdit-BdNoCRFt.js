import{h as Pe,c as pe,Q as qe}from"./QBtn-D1RFuhmY.js";import{c as De,d as je,e as Le,f as Ue,g as ze,h as Ne,i as ke,j as Qe,k as Ke,b as re,l as Ye,m as Xe,u as Ze,a as He,Q as se,n as ye}from"./StringAbbreviation-BfR5_Fcv.js";import{r as Y,w as Q,d as J,J as Je,a as j,c as Re,b as Te,o as Ge,h as Z,K as $e,g as We,L as ne,x as ae,M as ge,N as ve,_ as ee,s as U,t as N,u as M,v as ie,E as Fe,z as S,D as G,G as Be,O as et,P as tt,Q as te,n as nt,R as at,S as le,T as de,U as we,V as me,W as ce,X as ot,Y as lt,Z as rt,F as it,H as be,A as xe,C as ut}from"./index-BmVeFoRw.js";import{u as st,j as dt,g as ct,W as ft,c as mt,k as gt,l as vt}from"./WuPage-DBEzg0ex.js";const _e={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ue={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ie=Object.keys(ue);Ie.forEach(e=>{ue[e].regex=new RegExp(ue[e].pattern)});const ht=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ie.join("")+"])|(.)","g"),Me=/[.*+?^${}()|[\]\\]/g,B="",pt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function kt(e,t,c,a){let n,o,r,m,g,s;const b=Y(null),v=Y(x());function T(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Q(()=>e.type+e.autogrow,D),Q(()=>e.mask,d=>{if(d!==void 0)L(v.value,!0);else{const i=A(v.value);D(),e.modelValue!==i&&t("update:modelValue",i)}}),Q(()=>e.fillMask+e.reverseFillMask,()=>{b.value===!0&&L(v.value,!0)}),Q(()=>e.unmaskedValue,()=>{b.value===!0&&L(v.value)});function x(){if(D(),b.value===!0){const d=F(A(e.modelValue));return e.fillMask!==!1?oe(d):d}return e.modelValue}function W(d){if(d<n.length)return n.slice(-d);let i="",f=n;const u=f.indexOf(B);if(u!==-1){for(let y=d-f.length;y>0;y--)i+=B;f=f.slice(0,u)+i+f.slice(u)}return f}function D(){if(b.value=e.mask!==void 0&&e.mask.length!==0&&T(),b.value===!1){m=void 0,n="",o="";return}const d=_e[e.mask]===void 0?e.mask:_e[e.mask],i=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",f=i.replace(Me,"\\$&"),u=[],y=[],k=[];let R=e.reverseFillMask===!0,w="",C="";d.replace(ht,(I,l,E,K,z)=>{if(K!==void 0){const q=ue[K];k.push(q),C=q.negate,R===!0&&(y.push("(?:"+C+"+)?("+q.pattern+"+)?(?:"+C+"+)?("+q.pattern+"+)?"),R=!1),y.push("(?:"+C+"+)?("+q.pattern+")?")}else if(E!==void 0)w="\\"+(E==="\\"?"":E),k.push(E),u.push("([^"+w+"]+)?"+w+"?");else{const q=l!==void 0?l:z;w=q==="\\"?"\\\\\\\\":q.replace(Me,"\\\\$&"),k.push(q),u.push("([^"+w+"]+)?"+w+"?")}});const H=new RegExp("^"+u.join("")+"("+(w===""?".":"[^"+w+"]")+"+)?"+(w===""?"":"["+w+"]*")+"$"),X=y.length-1,V=y.map((I,l)=>l===0&&e.reverseFillMask===!0?new RegExp("^"+f+"*"+I):l===X?new RegExp("^"+I+"("+(C===""?".":C)+"+)?"+(e.reverseFillMask===!0?"$":f+"*")):new RegExp("^"+I));r=k,m=I=>{const l=H.exec(e.reverseFillMask===!0?I:I.slice(0,k.length+1));l!==null&&(I=l.slice(1).join(""));const E=[],K=V.length;for(let z=0,q=I;z<K;z++){const $=V[z].exec(q);if($===null)break;q=q.slice($.shift().length),E.push(...$)}return E.length!==0?E.join(""):I},n=k.map(I=>typeof I=="string"?I:B).join(""),o=n.split(B).join(i)}function L(d,i,f){const u=a.value,y=u.selectionEnd,k=u.value.length-y,R=A(d);i===!0&&D();const w=F(R),C=e.fillMask!==!1?oe(w):w,H=v.value!==C;u.value!==C&&(u.value=C),H===!0&&(v.value=C),document.activeElement===u&&J(()=>{if(C===o){const V=e.reverseFillMask===!0?o.length:0;u.setSelectionRange(V,V,"forward");return}if(f==="insertFromPaste"&&e.reverseFillMask!==!0){const V=u.selectionEnd;let I=y-1;for(let l=g;l<=I&&l<V;l++)n[l]!==B&&I++;p.right(u,I);return}if(["deleteContentBackward","deleteContentForward"].indexOf(f)!==-1){const V=e.reverseFillMask===!0?y===0?C.length>w.length?1:0:Math.max(0,C.length-(C===o?0:Math.min(w.length,k)+1))+1:y;u.setSelectionRange(V,V,"forward");return}if(e.reverseFillMask===!0)if(H===!0){const V=Math.max(0,C.length-(C===o?0:Math.min(w.length,k+1)));V===1&&y===1?u.setSelectionRange(V,V,"forward"):p.rightReverse(u,V)}else{const V=C.length-k;u.setSelectionRange(V,V,"backward")}else if(H===!0){const V=Math.max(0,n.indexOf(B),Math.min(w.length,y)-1);p.right(u,V)}else{const V=y-1;p.right(u,V)}});const X=e.unmaskedValue===!0?A(C):C;String(e.modelValue)!==X&&(e.modelValue!==null||X!=="")&&c(X,!0)}function h(d,i,f){const u=F(A(d.value));i=Math.max(0,n.indexOf(B),Math.min(u.length,i)),g=i,d.setSelectionRange(i,f,"forward")}const p={left(d,i){const f=n.slice(i-1).indexOf(B)===-1;let u=Math.max(0,i-1);for(;u>=0;u--)if(n[u]===B){i=u,f===!0&&i++;break}if(u<0&&n[i]!==void 0&&n[i]!==B)return p.right(d,0);i>=0&&d.setSelectionRange(i,i,"backward")},right(d,i){const f=d.value.length;let u=Math.min(f,i+1);for(;u<=f;u++)if(n[u]===B){i=u;break}else n[u-1]===B&&(i=u);if(u>f&&n[i-1]!==void 0&&n[i-1]!==B)return p.left(d,f);d.setSelectionRange(i,i,"forward")},leftReverse(d,i){const f=W(d.value.length);let u=Math.max(0,i-1);for(;u>=0;u--)if(f[u-1]===B){i=u;break}else if(f[u]===B&&(i=u,u===0))break;if(u<0&&f[i]!==void 0&&f[i]!==B)return p.rightReverse(d,0);i>=0&&d.setSelectionRange(i,i,"backward")},rightReverse(d,i){const f=d.value.length,u=W(f),y=u.slice(0,i+1).indexOf(B)===-1;let k=Math.min(f,i+1);for(;k<=f;k++)if(u[k-1]===B){i=k,i>0&&y===!0&&i--;break}if(k>f&&u[i-1]!==void 0&&u[i-1]!==B)return p.leftReverse(d,f);d.setSelectionRange(i,i,"forward")}};function O(d){t("click",d),s=void 0}function P(d){if(t("keydown",d),Je(d)===!0||d.altKey===!0)return;const i=a.value,f=i.selectionStart,u=i.selectionEnd;if(d.shiftKey||(s=void 0),d.keyCode===37||d.keyCode===39){d.shiftKey&&s===void 0&&(s=i.selectionDirection==="forward"?f:u);const y=p[(d.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(d.preventDefault(),y(i,s===f?u:f),d.shiftKey){const k=i.selectionStart;i.setSelectionRange(Math.min(s,k),Math.max(s,k),"forward")}}else d.keyCode===8&&e.reverseFillMask!==!0&&f===u?(p.left(i,f),i.setSelectionRange(i.selectionStart,u,"backward")):d.keyCode===46&&e.reverseFillMask===!0&&f===u&&(p.rightReverse(i,u),i.setSelectionRange(f,i.selectionEnd,"forward"))}function F(d){if(d==null||d==="")return"";if(e.reverseFillMask===!0)return _(d);const i=r;let f=0,u="";for(let y=0;y<i.length;y++){const k=d[f],R=i[y];if(typeof R=="string")u+=R,k===R&&f++;else if(k!==void 0&&R.regex.test(k))u+=R.transform!==void 0?R.transform(k):k,f++;else return u}return u}function _(d){const i=r,f=n.indexOf(B);let u=d.length-1,y="";for(let k=i.length-1;k>=0&&u!==-1;k--){const R=i[k];let w=d[u];if(typeof R=="string")y=R+y,w===R&&u--;else if(w!==void 0&&R.regex.test(w))do y=(R.transform!==void 0?R.transform(w):w)+y,u--,w=d[u];while(f===k&&w!==void 0&&R.regex.test(w));else return y}return y}function A(d){return typeof d!="string"||m===void 0?typeof d=="number"?m(""+d):d:m(d)}function oe(d){return o.length-d.length<=0?d:e.reverseFillMask===!0&&d.length!==0?o.slice(0,-d.length)+d:d+o.slice(d.length)}return{innerValue:v,hasMask:b,moveCursorForPaste:h,updateMaskValue:L,onMaskedKeydown:P,onMaskedClick:O}}function yt(e,t){function c(){const a=e.modelValue;try{const n="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(o=>{n.items.add(o)}),{files:n.files}}catch{return{files:void 0}}}return j(()=>{if(e.type==="file")return c()})}const Oe=Re({name:"QInput",inheritAttrs:!1,props:{...De,...pt,...je,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Le,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:c}){const{proxy:a}=We(),{$q:n}=a,o={};let r=NaN,m,g,s=null,b;const v=Y(null),T=Ue(e),{innerValue:x,hasMask:W,moveCursorForPaste:D,updateMaskValue:L,onMaskedKeydown:h,onMaskedClick:p}=kt(e,t,w,v),O=yt(e),P=j(()=>ke(x.value)),F=Ke(k),_=ze({changeEvent:!0}),A=j(()=>e.type==="textarea"||e.autogrow===!0),oe=j(()=>A.value===!0||["text","search","url","tel","password"].includes(e.type)),d=j(()=>{const l={..._.splitAttrs.listeners.value,onInput:k,onPaste:y,onChange:H,onBlur:X,onFocus:ne};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=F,W.value===!0&&(l.onKeydown=h,l.onClick=p),e.autogrow===!0&&(l.onAnimationend=R),l}),i=j(()=>{const l={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:T.value,..._.splitAttrs.attributes.value,id:_.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return A.value===!1&&(l.type=e.type),e.autogrow===!0&&(l.rows=1),l});Q(()=>e.type,()=>{v.value&&(v.value.value=e.modelValue)}),Q(()=>e.modelValue,l=>{if(W.value===!0){if(g===!0&&(g=!1,String(l)===r))return;L(l)}else x.value!==l&&(x.value=l,e.type==="number"&&o.hasOwnProperty("value")===!0&&(m===!0?m=!1:delete o.value));e.autogrow===!0&&J(C)}),Q(()=>e.autogrow,l=>{l===!0?J(C):v.value!==null&&c.rows>0&&(v.value.style.height="auto")}),Q(()=>e.dense,()=>{e.autogrow===!0&&J(C)});function f(){Qe(()=>{const l=document.activeElement;v.value!==null&&v.value!==l&&(l===null||l.id!==_.targetUid.value)&&v.value.focus({preventScroll:!0})})}function u(){v.value!==null&&v.value.select()}function y(l){if(W.value===!0&&e.reverseFillMask!==!0){const E=l.target;D(E,E.selectionStart,E.selectionEnd)}t("paste",l)}function k(l){if(!l||!l.target)return;if(e.type==="file"){t("update:modelValue",l.target.files);return}const E=l.target.value;if(l.target.qComposing===!0){o.value=E;return}if(W.value===!0)L(E,!1,l.inputType);else if(w(E),oe.value===!0&&l.target===document.activeElement){const{selectionStart:K,selectionEnd:z}=l.target;K!==void 0&&z!==void 0&&J(()=>{l.target===document.activeElement&&E.indexOf(l.target.value)===0&&l.target.setSelectionRange(K,z)})}e.autogrow===!0&&C()}function R(l){t("animationend",l),C()}function w(l,E){b=()=>{s=null,e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==l&&r!==l&&(r=l,E===!0&&(g=!0),t("update:modelValue",l),J(()=>{r===l&&(r=NaN)})),b=void 0},e.type==="number"&&(m=!0,o.value=l),e.debounce!==void 0?(s!==null&&clearTimeout(s),o.value=l,s=setTimeout(b,e.debounce)):b()}function C(){requestAnimationFrame(()=>{const l=v.value;if(l!==null){const E=l.parentNode.style,{scrollTop:K}=l,{overflowY:z,maxHeight:q}=n.platform.is.firefox===!0?{}:window.getComputedStyle(l),$=z!==void 0&&z!=="scroll";$===!0&&(l.style.overflowY="hidden"),E.marginBottom=l.scrollHeight-1+"px",l.style.height="1px",l.style.height=l.scrollHeight+"px",$===!0&&(l.style.overflowY=parseInt(q,10)<l.scrollHeight?"auto":"hidden"),E.marginBottom="",l.scrollTop=K}})}function H(l){F(l),s!==null&&(clearTimeout(s),s=null),b!==void 0&&b(),t("change",l.target.value)}function X(l){l!==void 0&&ne(l),s!==null&&(clearTimeout(s),s=null),b!==void 0&&b(),m=!1,g=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{v.value!==null&&(v.value.value=x.value!==void 0?x.value:"")})}function V(){return o.hasOwnProperty("value")===!0?o.value:x.value!==void 0?x.value:""}Te(()=>{X()}),Ge(()=>{e.autogrow===!0&&C()}),Object.assign(_,{innerValue:x,fieldClass:j(()=>`q-${A.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:j(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:v,emitValue:w,hasValue:P,floatingLabel:j(()=>P.value===!0&&(e.type!=="number"||isNaN(x.value)===!1)||ke(e.displayValue)),getControl:()=>Z(A.value===!0?"textarea":"input",{ref:v,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...i.value,...d.value,...e.type!=="file"?{value:V()}:O.value}),getShadowControl:()=>Z("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(A.value===!0?"":" text-no-wrap")},[Z("span",{class:"invisible"},V()),Z("span",e.shadowText)])});const I=Ne(_);return Object.assign(a,{focus:f,select:u,getNativeElement:()=>v.value}),$e(a,"nativeEl",()=>v.value),I}}),wt=ae({__name:"WuBaseInput",props:ge({placeholder:{},label:{},focus:{type:Boolean},textRight:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const c=e,a=Y(),n=ve(e,"modelValue");Q(()=>c.focus,async()=>{await J(),c.focus&&a.value?.focus()},{immediate:!0});function o(m){m.target instanceof HTMLInputElement&&m.target.select()}const r={props:c,inputRef:a,model:n,selectText:o,get QInput(){return Oe}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function bt(e,t,c,a,n,o){return U(),N(a.QInput,{onFocus:a.selectText,label:c.label,ref:"inputRef",filled:"",dense:"",placeholder:c.placeholder??"","input-class":{"text-right":c.textRight},modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model=r)},{append:M(()=>[ie(e.$slots,"default",{},void 0,!0)]),_:3},8,["label","placeholder","input-class","modelValue"])}const Ae=ee(wt,[["render",bt],["__scopeId","data-v-f5ec6903"],["__file","WuBaseInput.vue"]]),xt={};function _t(e,t){return U(),N(re,null,{default:M(()=>[ie(e.$slots,"default")]),_:3})}const Mt=ee(xt,[["render",_t],["__file","WuTd.vue"]]),Ct=ae({__name:"RoundEdit",props:ge({focus:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const a={model:ve(e,"modelValue"),WuBaseInput:Ae,WuTd:Mt};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function St(e,t,c,a,n,o){return U(),Fe(Be,null,[S(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:M(()=>[S(a.WuBaseInput,{focus:!!c.focus,"text-right":"",modelValue:a.model.exercice.name,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model.exercice.name=r)},null,8,["focus","modelValue"])]),_:1}),S(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:M(()=>[S(a.WuBaseInput,{class:"input",mask:"###",inputmode:"numeric","text-right":"",modelValue:a.model.repetitions,"onUpdate:modelValue":t[1]||(t[1]=r=>a.model.repetitions=r),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),S(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:M(()=>[S(a.WuBaseInput,{class:"input",mask:"###",inputmode:"numeric","text-right":"",modelValue:a.model.weight,"onUpdate:modelValue":t[2]||(t[2]=r=>a.model.weight=r),modelModifiers:{number:!0}},{default:M(()=>t[4]||(t[4]=[G("span",{class:"unit"},"kg",-1)])),_:1},8,["modelValue"])]),_:1}),S(a.WuTd,{style:{"padding-left":"8px","padding-right":"8px"}},{default:M(()=>[S(a.WuBaseInput,{class:"input",mask:"###",inputmode:"numeric","text-right":"",modelValue:a.model.restTime,"onUpdate:modelValue":t[3]||(t[3]=r=>a.model.restTime=r),modelModifiers:{number:!0}},{default:M(()=>t[5]||(t[5]=[G("span",{class:"unit"},"s",-1)])),_:1},8,["modelValue"])]),_:1})],64)}const Vt=ee(Ct,[["render",St],["__scopeId","data-v-21de9434"],["__file","RoundEdit.vue"]]),Et=ae({__name:"WuBaseTextarea",props:ge({placeholder:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const a={model:ve(e,"modelValue")};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Rt(e,t,c,a,n,o){return U(),N(Oe,{placeholder:c.placeholder??"",filled:"",dense:"",autogrow:"",modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model=r)},null,8,["placeholder","modelValue"])}const Tt=ee(Et,[["render",Rt],["__scopeId","data-v-422bb83b"],["__file","WuBaseTextarea.vue"]]);function Ce(e){const t=et(e);return t!==void 0?Wt(t):Y(t)}function Wt(e){const t=JSON.parse(JSON.stringify(e));return Y(t)}const he={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ft=Object.keys(he);he.all=!0;function Se(e){const t={};for(const c of Ft)e[c]===!0&&(t[c]=!0);return Object.keys(t).length===0?he:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Bt=["INPUT","TEXTAREA"];function Ve(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Bt.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function fe(e,t,c){const a=me(e);let n,o=a.left-t.event.x,r=a.top-t.event.y,m=Math.abs(o),g=Math.abs(r);const s=t.direction;s.horizontal===!0&&s.vertical!==!0?n=o<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?n=r<0?"up":"down":s.up===!0&&r<0?(n="up",m>g&&(s.left===!0&&o<0?n="left":s.right===!0&&o>0&&(n="right"))):s.down===!0&&r>0?(n="down",m>g&&(s.left===!0&&o<0?n="left":s.right===!0&&o>0&&(n="right"))):s.left===!0&&o<0?(n="left",m<g&&(s.up===!0&&r<0?n="up":s.down===!0&&r>0&&(n="down"))):s.right===!0&&o>0&&(n="right",m<g&&(s.up===!0&&r<0?n="up":s.down===!0&&r>0&&(n="down")));let b=!1;if(n===void 0&&c===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};n=t.event.lastDir,b=!0,n==="left"||n==="right"?(a.left-=o,m=0,o=0):(a.top-=r,g=0,r=0)}return{synthetic:b,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:a,direction:n,isFirst:t.event.isFirst,isFinal:c===!0,duration:Date.now()-t.event.time,distance:{x:m,y:g},offset:{x:o,y:r},delta:{x:a.left-t.event.lastX,y:a.top-t.event.lastY}}}}let It=0;const Ot=tt({name:"touch-pan",beforeMount(e,{value:t,modifiers:c}){if(c.mouse!==!0&&te.has.touch!==!0)return;function a(o,r){c.mouse===!0&&r===!0?ot(o):(c.stop===!0&&ne(o),c.prevent===!0&&we(o))}const n={uid:"qvtp_"+It++,handler:t,modifiers:c,direction:Se(c),noop:nt,mouseStart(o){Ve(o,n)&&at(o)&&(le(n,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),n.start(o,!0))},touchStart(o){if(Ve(o,n)){const r=o.target;le(n,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),n.start(o)}},start(o,r){if(te.is.firefox===!0&&de(e,!0),n.lastEvt=o,r===!0||c.stop===!0){if(n.direction.all!==!0&&(r!==!0||n.modifiers.mouseAllDir!==!0&&n.modifiers.mousealldir!==!0)){const s=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&we(s),o.cancelBubble===!0&&ne(s),Object.assign(s,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[n.uid]:o.qClonedBy.concat(n.uid)}),n.initialEvent={target:o.target,event:s}}ne(o)}const{left:m,top:g}=me(o);n.event={x:m,y:g,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:m,lastY:g}},move(o){if(n.event===void 0)return;const r=me(o),m=r.left-n.event.x,g=r.top-n.event.y;if(m===0&&g===0)return;n.lastEvt=o;const s=n.event.mouse===!0,b=()=>{a(o,s);let x;c.preserveCursor!==!0&&c.preservecursor!==!0&&(x=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ye(),n.styleCleanup=W=>{if(n.styleCleanup=void 0,x!==void 0&&(document.documentElement.style.cursor=x),document.body.classList.remove("non-selectable"),s===!0){const D=()=>{document.body.classList.remove("no-pointer-events--children")};W!==void 0?setTimeout(()=>{D(),W()},50):D()}else W!==void 0&&W()}};if(n.event.detected===!0){n.event.isFirst!==!0&&a(o,n.event.mouse);const{payload:x,synthetic:W}=fe(o,n,!1);x!==void 0&&(n.handler(x)===!1?n.end(o):(n.styleCleanup===void 0&&n.event.isFirst===!0&&b(),n.event.lastX=x.position.left,n.event.lastY=x.position.top,n.event.lastDir=W===!0?void 0:x.direction,n.event.isFirst=!1));return}if(n.direction.all===!0||s===!0&&(n.modifiers.mouseAllDir===!0||n.modifiers.mousealldir===!0)){b(),n.event.detected=!0,n.move(o);return}const v=Math.abs(m),T=Math.abs(g);v!==T&&(n.direction.horizontal===!0&&v>T||n.direction.vertical===!0&&v<T||n.direction.up===!0&&v<T&&g<0||n.direction.down===!0&&v<T&&g>0||n.direction.left===!0&&v>T&&m<0||n.direction.right===!0&&v>T&&m>0?(n.event.detected=!0,n.move(o)):n.end(o,!0))},end(o,r){if(n.event!==void 0){if(ce(n,"temp"),te.is.firefox===!0&&de(e,!1),r===!0)n.styleCleanup!==void 0&&n.styleCleanup(),n.event.detected!==!0&&n.initialEvent!==void 0&&n.initialEvent.target.dispatchEvent(n.initialEvent.event);else if(n.event.detected===!0){n.event.isFirst===!0&&n.handler(fe(o===void 0?n.lastEvt:o,n).payload);const{payload:m}=fe(o===void 0?n.lastEvt:o,n,!0),g=()=>{n.handler(m)};n.styleCleanup!==void 0?n.styleCleanup(g):g()}n.event=void 0,n.initialEvent=void 0,n.lastEvt=void 0}}};if(e.__qtouchpan=n,c.mouse===!0){const o=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";le(n,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}te.has.touch===!0&&le(n,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const c=e.__qtouchpan;c!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&c.end(),c.handler=t.value),c.direction=Se(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),ce(t,"main"),ce(t,"temp"),te.is.firefox===!0&&de(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function At(){let e=Object.create(null);return{getCache:(t,c)=>e[t]===void 0?e[t]=typeof c=="function"?c():c:e[t],setCache(t,c){e[t]=c},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const Ee=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]],Pt=Re({name:"QSlideItem",props:{...st,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:c}){const{proxy:a}=We(),{$q:n}=a,o=dt(e,n),{getCache:r}=At(),m=Y(null);let g=null,s={},b={},v={};const T=j(()=>n.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),x=j(()=>"q-slide-item q-item-type overflow-hidden"+(o.value===!0?" q-slide-item--dark q-dark":""));function W(){m.value.style.transform="translate(0,0)"}function D(h,p,O){e.onSlide!==void 0&&c("slide",{side:h,ratio:p,isReset:O})}function L(h){const p=m.value;if(h.isFirst)s={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},p.classList.add("no-transition"),Ee.forEach(_=>{if(t[_[0]]!==void 0){const A=v[_[0]];A.style.transform="scale(1)",s.size[_[0]]=A.getBoundingClientRect()[_[3]]}}),s.axis=h.direction==="up"||h.direction==="down"?"Y":"X";else if(h.isFinal){p.classList.remove("no-transition"),s.scale===1?(p.style.transform=`translate${s.axis}(${s.dir*100}%)`,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,c(s.showing,{reset:W}),c("action",{side:s.showing,reset:W})},230)):(p.style.transform="translate(0,0)",D(s.showing,0,!0));return}else h.direction=s.axis==="X"?h.offset.x<0?"left":"right":h.offset.y<0?"up":"down";if(t.left===void 0&&h.direction===T.value.right||t.right===void 0&&h.direction===T.value.left||t.top===void 0&&h.direction==="down"||t.bottom===void 0&&h.direction==="up"){p.style.transform="translate(0,0)";return}let O,P,F;s.axis==="X"?(P=h.direction==="left"?-1:1,O=P===1?T.value.left:T.value.right,F=h.distance.x):(P=h.direction==="up"?-2:2,O=P===2?"top":"bottom",F=h.distance.y),!(s.dir!==null&&Math.abs(P)!==Math.abs(s.dir))&&(s.dir!==P&&(["left","right","top","bottom"].forEach(_=>{b[_]&&(b[_].style.visibility=O===_?"visible":"hidden")}),s.showing=O,s.dir=P),s.scale=Math.max(0,Math.min(1,(F-40)/s.size[O])),p.style.transform=`translate${s.axis}(${F*P/Math.abs(P)}px)`,v[O].style.transform=`scale(${s.scale})`,D(O,s.scale,!1))}return lt(()=>{b={},v={}}),Te(()=>{g!==null&&clearTimeout(g)}),Object.assign(a,{reset:W}),()=>{const h=[],p={left:t[T.value.right]!==void 0,right:t[T.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},O=Object.keys(p).filter(F=>p[F]===!0);Ee.forEach(F=>{const _=F[0];t[_]!==void 0&&h.push(Z("div",{key:_,ref:A=>{b[_]=A},class:`q-slide-item__${_} absolute-full row no-wrap items-${F[1]} justify-${F[2]}`+(e[_+"Color"]!==void 0?` bg-${e[_+"Color"]}`:"")},[Z("div",{ref:A=>{v[_]=A}},t[_]())]))});const P=Z("div",{key:`${O.length===0?"only-":""} content`,ref:m,class:"q-slide-item__content"},Pe(t.default));return O.length===0?h.push(P):h.push(rt(P,r("dir#"+O.join(""),()=>{const F={prevent:!0,stop:!0,mouse:!0};return O.forEach(_=>{F[_]=!0}),[[Ot,L,void 0,F]]}))),Z("div",{class:x.value},h)}}}),qt=ae({__name:"WuSlideItem",props:{color:{}},setup(e,{expose:t}){t();const c={get getStringOrEmpty(){return ct}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function Dt(e,t,c,a,n,o){return U(),N(Pt,{"right-color":a.getStringOrEmpty(c.color)},{right:M(()=>[ie(e.$slots,"right")]),default:M(()=>[ie(e.$slots,"default")]),_:3},8,["right-color"])}const jt=ee(qt,[["render",Dt],["__file","WuSlideItem.vue"]]),Lt=ae({__name:"WorkoutEdit",props:{workout:{}},setup(e,{expose:t}){t();const c=e,{isScreenLarge:a}=Xe(),{getReactiveStr:n}=Ze(),o=j(()=>[{name:"exercise",label:n("Exercise","Exer.").value,field:h=>h.exercice.name},{name:"repetitions",label:n("Repetitions","Reps.").value,field:"repetitions"},{name:"weight",label:n("Weight","Wgt.").value,field:"weight"},{name:"restTime",label:n("Rest Time","Rest").value,field:"restTime"}]);function r(){return c.workout.id?{name:"WorkoutDetails",params:{workoutId:c.workout.id}}:{name:"HomePage"}}function m(){g.value.id?gt(g.value):vt(g.value)}const g=Ce(c.workout),s=j(()=>g.value.rounds.at(-1));function b(){const h=Ce(s.value),p={exercice:{name:"",category:""},repetitions:"0",weight:"0",restTime:"0"};g.value.rounds.push(h.value??p)}function v(h){g.value.rounds=g.value.rounds.filter(p=>p!==h),console.log(h)}function T(h,p){v(p),h.reset()}const x=Y(!1),W=j(()=>h=>x.value&&h===s.value);Q(()=>g.value.rounds.length,(h,p)=>{if(h<=p){x.value=!1;return}x.value=!0},{flush:"post"});const D=Y(),L={props:c,isScreenLarge:a,getReactiveStr:n,columns:o,getDetailsPageRoute:r,saveUpdates:m,editedWorkout:g,lastRound:s,addRound:b,removeRound:v,onRight:T,isFocusActivated:x,isFocused:W,tableRef:D,RoundEdit:Vt,WuBaseInput:Ae,WuBaseTextarea:Tt,get QTable(){return He},WuBaseButton:ft,WorkoutLayout:mt,WuSlideItem:jt};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}}),Ut={class:"wu-header-wrapper"};function zt(e,t,c,a,n,o){return U(),N(a.WorkoutLayout,null,{header:M(()=>[G("div",Ut,[G("div",null,[S(a.WuBaseInput,{class:"date",modelValue:a.editedWorkout.date,"onUpdate:modelValue":t[0]||(t[0]=r=>a.editedWorkout.date=r),mask:"####/##/##",inputmode:"numeric",placeholder:"Date"},null,8,["modelValue"]),S(a.WuBaseInput,{class:"small-input hide-when-large",modelValue:a.editedWorkout.totalDuration,"onUpdate:modelValue":t[1]||(t[1]=r=>a.editedWorkout.totalDuration=r),placeholder:"00:00",mask:"##:##",inputmode:"numeric"},{default:M(()=>[S(pe,{size:"sm",name:"schedule"})]),_:1},8,["modelValue"])]),G("div",null,[S(a.WuBaseInput,{modelValue:a.editedWorkout.name,"onUpdate:modelValue":t[2]||(t[2]=r=>a.editedWorkout.name=r),placeholder:"Title",class:"workout-title text-h5"},null,8,["modelValue"]),S(a.WuBaseInput,{class:"small-input hide-when-small",modelValue:a.editedWorkout.totalDuration,"onUpdate:modelValue":t[3]||(t[3]=r=>a.editedWorkout.totalDuration=r),placeholder:"00:00",inputmode:"numeric",mask:"##:##"},{default:M(()=>[S(pe,{size:"sm",name:"schedule"})]),_:1},8,["modelValue"])]),G("div",null,[S(a.WuBaseTextarea,{class:"workout-notes",modelValue:a.editedWorkout.notes,"onUpdate:modelValue":t[4]||(t[4]=r=>a.editedWorkout.notes=r),placeholder:"Notes"},null,8,["modelValue"])])])]),body:M(()=>[S(a.QTable,{style:{"border-radius":"var(--wu-border-radius)"},ref:"tableRef",flat:"",dense:"",rows:a.editedWorkout.rounds,columns:a.columns,"row-key":"index",bordered:"","hide-pagination":"","rows-per-page-options":[0]},{header:M(r=>[S(se,{props:r},{default:M(()=>[(U(!0),Fe(Be,null,it(r.cols,m=>(U(),N(ye,{key:m.name,props:r},{default:M(()=>[xe(ut(m.label),1)]),_:2},1032,["props"]))),128)),a.isScreenLarge?(U(),N(ye,{key:0,"auto-width":""})):be("",!0)]),_:2},1032,["props"])]),body:M(r=>[S(se,{props:r},{default:M(()=>[a.isScreenLarge?(U(),N(a.RoundEdit,{key:0,modelValue:r.row,"onUpdate:modelValue":m=>r.row=m,focus:a.isFocused(r.row)},null,8,["modelValue","onUpdate:modelValue","focus"])):be("",!0),a.isScreenLarge?(U(),N(re,{key:1,"auto-width":""},{default:M(()=>[S(a.WuBaseButton,{tertiary:"",icon:"close",onClick:m=>a.removeRound(r.row)},null,8,["onClick"])]),_:2},1024)):(U(),N(re,{key:2,colspan:a.columns.length,style:{padding:"0"}},{default:M(()=>[S(a.WuSlideItem,{onRight:m=>a.onRight(m,r.row),color:"red"},{right:M(()=>t[5]||(t[5]=[xe(" Delete ")])),default:M(()=>[S(a.RoundEdit,{modelValue:r.row,"onUpdate:modelValue":m=>r.row=m,focus:a.isFocused(r.row)},null,8,["modelValue","onUpdate:modelValue","focus"])]),_:2},1032,["onRight"])]),_:2},1032,["colspan"]))]),_:2},1032,["props"])]),"no-data":M(()=>t[6]||(t[6]=[G("span",{class:"row justify-center text-grey-8",style:{width:"100%"}}," Your rounds will appear here ",-1)])),"bottom-row":M(()=>[S(se,null,{default:M(()=>[S(re,{colspan:"100%",style:{padding:"0"}},{default:M(()=>[S(qe,{flat:"",icon:"add",ripple:!1,padding:"0",style:{width:"100%",height:"40px"},onClick:a.addRound})]),_:1})]),_:1})]),_:1},8,["rows","columns"])]),footer:M(()=>[S(a.WuBaseButton,{class:"q-mr-md",secondary:"",icon:"arrow_back",label:"Return",to:a.getDetailsPageRoute()},null,8,["to"]),S(a.WuBaseButton,{icon:"check",primary:"",label:"Save",color:"primary",onClick:a.saveUpdates,to:a.getDetailsPageRoute()},null,8,["to"])]),_:1})}const Xt=ee(Lt,[["render",zt],["__scopeId","data-v-a497db0e"],["__file","WorkoutEdit.vue"]]);export{Xt as W};
