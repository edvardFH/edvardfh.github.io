import{h as Pe,c as ke,Q as qe}from"./QBtn-Cfi5klT3.js";import{c as De,d as je,e as Le,f as Ue,g as ze,h as Ne,i as ye,j as Qe,k as Ke,l as Ye,u as Xe,a as Ze,Q as ue,m as we,b as se}from"./StringAbbreviation-rpVaGbur.js";import{r as Y,w as N,d as J,J as He,a as j,c as Te,b as We,o as Je,h as Z,K as Ge,g as Fe,L as ne,x as ae,M as ge,N as ve,_ as ee,s as U,t as K,u as C,v as re,E as he,z as V,D as G,G as Be,O as $e,P as et,Q as te,n as tt,R as nt,S as le,T as de,U as be,V as me,W as ce,X as at,Y as ot,Z as lt,F as rt,H as xe,A as _e,C as it}from"./index-WA43LDbh.js";import{k as ut,l as st,c as dt,u as ct,W as ft,d as mt,m as gt,n as vt}from"./WuPage-DxHe3gEO.js";const Me={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ie={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ie=Object.keys(ie);Ie.forEach(e=>{ie[e].regex=new RegExp(ie[e].pattern)});const ht=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ie.join("")+"])|(.)","g"),Ce=/[.*+?^${}()|[\]\\]/g,I="",pt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function kt(e,t,c,a){let n,o,r,m,g,s;const b=Y(null),v=Y(x());function W(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}N(()=>e.type+e.autogrow,q),N(()=>e.mask,d=>{if(d!==void 0)L(v.value,!0);else{const i=A(v.value);q(),e.modelValue!==i&&t("update:modelValue",i)}}),N(()=>e.fillMask+e.reverseFillMask,()=>{b.value===!0&&L(v.value,!0)}),N(()=>e.unmaskedValue,()=>{b.value===!0&&L(v.value)});function x(){if(q(),b.value===!0){const d=B(A(e.modelValue));return e.fillMask!==!1?oe(d):d}return e.modelValue}function F(d){if(d<n.length)return n.slice(-d);let i="",f=n;const u=f.indexOf(I);if(u!==-1){for(let k=d-f.length;k>0;k--)i+=I;f=f.slice(0,u)+i+f.slice(u)}return f}function q(){if(b.value=e.mask!==void 0&&e.mask.length!==0&&W(),b.value===!1){m=void 0,n="",o="";return}const d=Me[e.mask]===void 0?e.mask:Me[e.mask],i=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",f=i.replace(Ce,"\\$&"),u=[],k=[],p=[];let T=e.reverseFillMask===!0,y="",M="";d.replace(ht,(O,l,R,Q,z)=>{if(Q!==void 0){const D=ie[Q];p.push(D),M=D.negate,T===!0&&(k.push("(?:"+M+"+)?("+D.pattern+"+)?(?:"+M+"+)?("+D.pattern+"+)?"),T=!1),k.push("(?:"+M+"+)?("+D.pattern+")?")}else if(R!==void 0)y="\\"+(R==="\\"?"":R),p.push(R),u.push("([^"+y+"]+)?"+y+"?");else{const D=l!==void 0?l:z;y=D==="\\"?"\\\\\\\\":D.replace(Ce,"\\\\$&"),p.push(D),u.push("([^"+y+"]+)?"+y+"?")}});const H=new RegExp("^"+u.join("")+"("+(y===""?".":"[^"+y+"]")+"+)?"+(y===""?"":"["+y+"]*")+"$"),X=k.length-1,E=k.map((O,l)=>l===0&&e.reverseFillMask===!0?new RegExp("^"+f+"*"+O):l===X?new RegExp("^"+O+"("+(M===""?".":M)+"+)?"+(e.reverseFillMask===!0?"$":f+"*")):new RegExp("^"+O));r=p,m=O=>{const l=H.exec(e.reverseFillMask===!0?O:O.slice(0,p.length+1));l!==null&&(O=l.slice(1).join(""));const R=[],Q=E.length;for(let z=0,D=O;z<Q;z++){const $=E[z].exec(D);if($===null)break;D=D.slice($.shift().length),R.push(...$)}return R.length!==0?R.join(""):O},n=p.map(O=>typeof O=="string"?O:I).join(""),o=n.split(I).join(i)}function L(d,i,f){const u=a.value,k=u.selectionEnd,p=u.value.length-k,T=A(d);i===!0&&q();const y=B(T),M=e.fillMask!==!1?oe(y):y,H=v.value!==M;u.value!==M&&(u.value=M),H===!0&&(v.value=M),document.activeElement===u&&J(()=>{if(M===o){const E=e.reverseFillMask===!0?o.length:0;u.setSelectionRange(E,E,"forward");return}if(f==="insertFromPaste"&&e.reverseFillMask!==!0){const E=u.selectionEnd;let O=k-1;for(let l=g;l<=O&&l<E;l++)n[l]!==I&&O++;h.right(u,O);return}if(["deleteContentBackward","deleteContentForward"].indexOf(f)!==-1){const E=e.reverseFillMask===!0?k===0?M.length>y.length?1:0:Math.max(0,M.length-(M===o?0:Math.min(y.length,p)+1))+1:k;u.setSelectionRange(E,E,"forward");return}if(e.reverseFillMask===!0)if(H===!0){const E=Math.max(0,M.length-(M===o?0:Math.min(y.length,p+1)));E===1&&k===1?u.setSelectionRange(E,E,"forward"):h.rightReverse(u,E)}else{const E=M.length-p;u.setSelectionRange(E,E,"backward")}else if(H===!0){const E=Math.max(0,n.indexOf(I),Math.min(y.length,k)-1);h.right(u,E)}else{const E=k-1;h.right(u,E)}});const X=e.unmaskedValue===!0?A(M):M;String(e.modelValue)!==X&&(e.modelValue!==null||X!=="")&&c(X,!0)}function w(d,i,f){const u=B(A(d.value));i=Math.max(0,n.indexOf(I),Math.min(u.length,i)),g=i,d.setSelectionRange(i,f,"forward")}const h={left(d,i){const f=n.slice(i-1).indexOf(I)===-1;let u=Math.max(0,i-1);for(;u>=0;u--)if(n[u]===I){i=u,f===!0&&i++;break}if(u<0&&n[i]!==void 0&&n[i]!==I)return h.right(d,0);i>=0&&d.setSelectionRange(i,i,"backward")},right(d,i){const f=d.value.length;let u=Math.min(f,i+1);for(;u<=f;u++)if(n[u]===I){i=u;break}else n[u-1]===I&&(i=u);if(u>f&&n[i-1]!==void 0&&n[i-1]!==I)return h.left(d,f);d.setSelectionRange(i,i,"forward")},leftReverse(d,i){const f=F(d.value.length);let u=Math.max(0,i-1);for(;u>=0;u--)if(f[u-1]===I){i=u;break}else if(f[u]===I&&(i=u,u===0))break;if(u<0&&f[i]!==void 0&&f[i]!==I)return h.rightReverse(d,0);i>=0&&d.setSelectionRange(i,i,"backward")},rightReverse(d,i){const f=d.value.length,u=F(f),k=u.slice(0,i+1).indexOf(I)===-1;let p=Math.min(f,i+1);for(;p<=f;p++)if(u[p-1]===I){i=p,i>0&&k===!0&&i--;break}if(p>f&&u[i-1]!==void 0&&u[i-1]!==I)return h.leftReverse(d,f);d.setSelectionRange(i,i,"forward")}};function S(d){t("click",d),s=void 0}function P(d){if(t("keydown",d),He(d)===!0||d.altKey===!0)return;const i=a.value,f=i.selectionStart,u=i.selectionEnd;if(d.shiftKey||(s=void 0),d.keyCode===37||d.keyCode===39){d.shiftKey&&s===void 0&&(s=i.selectionDirection==="forward"?f:u);const k=h[(d.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(d.preventDefault(),k(i,s===f?u:f),d.shiftKey){const p=i.selectionStart;i.setSelectionRange(Math.min(s,p),Math.max(s,p),"forward")}}else d.keyCode===8&&e.reverseFillMask!==!0&&f===u?(h.left(i,f),i.setSelectionRange(i.selectionStart,u,"backward")):d.keyCode===46&&e.reverseFillMask===!0&&f===u&&(h.rightReverse(i,u),i.setSelectionRange(f,i.selectionEnd,"forward"))}function B(d){if(d==null||d==="")return"";if(e.reverseFillMask===!0)return _(d);const i=r;let f=0,u="";for(let k=0;k<i.length;k++){const p=d[f],T=i[k];if(typeof T=="string")u+=T,p===T&&f++;else if(p!==void 0&&T.regex.test(p))u+=T.transform!==void 0?T.transform(p):p,f++;else return u}return u}function _(d){const i=r,f=n.indexOf(I);let u=d.length-1,k="";for(let p=i.length-1;p>=0&&u!==-1;p--){const T=i[p];let y=d[u];if(typeof T=="string")k=T+k,y===T&&u--;else if(y!==void 0&&T.regex.test(y))do k=(T.transform!==void 0?T.transform(y):y)+k,u--,y=d[u];while(f===p&&y!==void 0&&T.regex.test(y));else return k}return k}function A(d){return typeof d!="string"||m===void 0?typeof d=="number"?m(""+d):d:m(d)}function oe(d){return o.length-d.length<=0?d:e.reverseFillMask===!0&&d.length!==0?o.slice(0,-d.length)+d:d+o.slice(d.length)}return{innerValue:v,hasMask:b,moveCursorForPaste:w,updateMaskValue:L,onMaskedKeydown:P,onMaskedClick:S}}function yt(e,t){function c(){const a=e.modelValue;try{const n="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(o=>{n.items.add(o)}),{files:n.files}}catch{return{files:void 0}}}return j(()=>{if(e.type==="file")return c()})}const Oe=Te({name:"QInput",inheritAttrs:!1,props:{...De,...pt,...je,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Le,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:c}){const{proxy:a}=Fe(),{$q:n}=a,o={};let r=NaN,m,g,s=null,b;const v=Y(null),W=Ue(e),{innerValue:x,hasMask:F,moveCursorForPaste:q,updateMaskValue:L,onMaskedKeydown:w,onMaskedClick:h}=kt(e,t,y,v),S=yt(e),P=j(()=>ye(x.value)),B=Ke(p),_=ze({changeEvent:!0}),A=j(()=>e.type==="textarea"||e.autogrow===!0),oe=j(()=>A.value===!0||["text","search","url","tel","password"].includes(e.type)),d=j(()=>{const l={..._.splitAttrs.listeners.value,onInput:p,onPaste:k,onChange:H,onBlur:X,onFocus:ne};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=B,F.value===!0&&(l.onKeydown=w,l.onClick=h),e.autogrow===!0&&(l.onAnimationend=T),l}),i=j(()=>{const l={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:W.value,..._.splitAttrs.attributes.value,id:_.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return A.value===!1&&(l.type=e.type),e.autogrow===!0&&(l.rows=1),l});N(()=>e.type,()=>{v.value&&(v.value.value=e.modelValue)}),N(()=>e.modelValue,l=>{if(F.value===!0){if(g===!0&&(g=!1,String(l)===r))return;L(l)}else x.value!==l&&(x.value=l,e.type==="number"&&o.hasOwnProperty("value")===!0&&(m===!0?m=!1:delete o.value));e.autogrow===!0&&J(M)}),N(()=>e.autogrow,l=>{l===!0?J(M):v.value!==null&&c.rows>0&&(v.value.style.height="auto")}),N(()=>e.dense,()=>{e.autogrow===!0&&J(M)});function f(){Qe(()=>{const l=document.activeElement;v.value!==null&&v.value!==l&&(l===null||l.id!==_.targetUid.value)&&v.value.focus({preventScroll:!0})})}function u(){v.value!==null&&v.value.select()}function k(l){if(F.value===!0&&e.reverseFillMask!==!0){const R=l.target;q(R,R.selectionStart,R.selectionEnd)}t("paste",l)}function p(l){if(!l||!l.target)return;if(e.type==="file"){t("update:modelValue",l.target.files);return}const R=l.target.value;if(l.target.qComposing===!0){o.value=R;return}if(F.value===!0)L(R,!1,l.inputType);else if(y(R),oe.value===!0&&l.target===document.activeElement){const{selectionStart:Q,selectionEnd:z}=l.target;Q!==void 0&&z!==void 0&&J(()=>{l.target===document.activeElement&&R.indexOf(l.target.value)===0&&l.target.setSelectionRange(Q,z)})}e.autogrow===!0&&M()}function T(l){t("animationend",l),M()}function y(l,R){b=()=>{s=null,e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==l&&r!==l&&(r=l,R===!0&&(g=!0),t("update:modelValue",l),J(()=>{r===l&&(r=NaN)})),b=void 0},e.type==="number"&&(m=!0,o.value=l),e.debounce!==void 0?(s!==null&&clearTimeout(s),o.value=l,s=setTimeout(b,e.debounce)):b()}function M(){requestAnimationFrame(()=>{const l=v.value;if(l!==null){const R=l.parentNode.style,{scrollTop:Q}=l,{overflowY:z,maxHeight:D}=n.platform.is.firefox===!0?{}:window.getComputedStyle(l),$=z!==void 0&&z!=="scroll";$===!0&&(l.style.overflowY="hidden"),R.marginBottom=l.scrollHeight-1+"px",l.style.height="1px",l.style.height=l.scrollHeight+"px",$===!0&&(l.style.overflowY=parseInt(D,10)<l.scrollHeight?"auto":"hidden"),R.marginBottom="",l.scrollTop=Q}})}function H(l){B(l),s!==null&&(clearTimeout(s),s=null),b!==void 0&&b(),t("change",l.target.value)}function X(l){l!==void 0&&ne(l),s!==null&&(clearTimeout(s),s=null),b!==void 0&&b(),m=!1,g=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{v.value!==null&&(v.value.value=x.value!==void 0?x.value:"")})}function E(){return o.hasOwnProperty("value")===!0?o.value:x.value!==void 0?x.value:""}We(()=>{X()}),Je(()=>{e.autogrow===!0&&M()}),Object.assign(_,{innerValue:x,fieldClass:j(()=>`q-${A.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:j(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:v,emitValue:y,hasValue:P,floatingLabel:j(()=>P.value===!0&&(e.type!=="number"||isNaN(x.value)===!1)||ye(e.displayValue)),getControl:()=>Z(A.value===!0?"textarea":"input",{ref:v,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...i.value,...d.value,...e.type!=="file"?{value:E()}:S.value}),getShadowControl:()=>Z("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(A.value===!0?"":" text-no-wrap")},[Z("span",{class:"invisible"},E()),Z("span",e.shadowText)])});const O=Ne(_);return Object.assign(a,{focus:f,select:u,getNativeElement:()=>v.value}),Ge(a,"nativeEl",()=>v.value),O}}),wt=ae({__name:"WuBaseInput",props:ge({placeholder:{},label:{},focus:{type:Boolean},textRight:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const c=e,a=Y(),n=ve(e,"modelValue");N(()=>c.focus,async()=>{await J(),c.focus&&a.value?.focus()},{immediate:!0});function o(m){m.target instanceof HTMLInputElement&&n.value!==""&&m.target.select()}const r={props:c,inputRef:a,model:n,selectText:o,get QInput(){return Oe}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function bt(e,t,c,a,n,o){return U(),K(a.QInput,{onFocus:a.selectText,label:c.label,ref:"inputRef",filled:"",dense:"",placeholder:c.placeholder??"","input-class":{"text-right":c.textRight},modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model=r)},{append:C(()=>[re(e.$slots,"default",{},void 0,!0)]),_:3},8,["label","placeholder","input-class","modelValue"])}const Ae=ee(wt,[["render",bt],["__scopeId","data-v-8b5631b8"],["__file","WuBaseInput.vue"]]),xt={};function _t(e,t){return U(),he("td",null,[re(e.$slots,"default")])}const Mt=ee(xt,[["render",_t],["__file","WuTd.vue"]]),Ct=ae({__name:"RoundEdit",props:ge({focus:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const a={model:ve(e,"modelValue"),WuBaseInput:Ae,WuTd:Mt};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function St(e,t,c,a,n,o){return U(),he(Be,null,[V(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:C(()=>[V(a.WuBaseInput,{focus:!!c.focus,"text-right":"",modelValue:a.model.exercice.name,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model.exercice.name=r)},null,8,["focus","modelValue"])]),_:1}),V(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:C(()=>[V(a.WuBaseInput,{class:"input",mask:"###",inputmode:"numeric","text-right":"",modelValue:a.model.repetitions,"onUpdate:modelValue":t[1]||(t[1]=r=>a.model.repetitions=r),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),V(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:C(()=>[V(a.WuBaseInput,{class:"input",mask:"###",inputmode:"numeric","text-right":"",modelValue:a.model.weight,"onUpdate:modelValue":t[2]||(t[2]=r=>a.model.weight=r),modelModifiers:{number:!0}},{default:C(()=>t[4]||(t[4]=[G("span",{class:"unit"},"kg",-1)])),_:1},8,["modelValue"])]),_:1}),V(a.WuTd,{style:{"padding-left":"8px","padding-right":"8px"}},{default:C(()=>[V(a.WuBaseInput,{class:"input",mask:"###",inputmode:"numeric","text-right":"",modelValue:a.model.restTime,"onUpdate:modelValue":t[3]||(t[3]=r=>a.model.restTime=r),modelModifiers:{number:!0}},{default:C(()=>t[5]||(t[5]=[G("span",{class:"unit"},"s",-1)])),_:1},8,["modelValue"])]),_:1})],64)}const Vt=ee(Ct,[["render",St],["__scopeId","data-v-21de9434"],["__file","RoundEdit.vue"]]),Et=ae({__name:"WuBaseTextarea",props:ge({placeholder:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const a={model:ve(e,"modelValue")};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Rt(e,t,c,a,n,o){return U(),K(Oe,{placeholder:c.placeholder??"",filled:"",dense:"",autogrow:"",modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model=r)},null,8,["placeholder","modelValue"])}const Tt=ee(Et,[["render",Rt],["__scopeId","data-v-422bb83b"],["__file","WuBaseTextarea.vue"]]);function Se(e){const t=$e(e);return t!==void 0?Wt(t):Y(t)}function Wt(e){const t=JSON.parse(JSON.stringify(e));return Y(t)}const pe={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ft=Object.keys(pe);pe.all=!0;function Ve(e){const t={};for(const c of Ft)e[c]===!0&&(t[c]=!0);return Object.keys(t).length===0?pe:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Bt=["INPUT","TEXTAREA"];function Ee(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Bt.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function fe(e,t,c){const a=me(e);let n,o=a.left-t.event.x,r=a.top-t.event.y,m=Math.abs(o),g=Math.abs(r);const s=t.direction;s.horizontal===!0&&s.vertical!==!0?n=o<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?n=r<0?"up":"down":s.up===!0&&r<0?(n="up",m>g&&(s.left===!0&&o<0?n="left":s.right===!0&&o>0&&(n="right"))):s.down===!0&&r>0?(n="down",m>g&&(s.left===!0&&o<0?n="left":s.right===!0&&o>0&&(n="right"))):s.left===!0&&o<0?(n="left",m<g&&(s.up===!0&&r<0?n="up":s.down===!0&&r>0&&(n="down"))):s.right===!0&&o>0&&(n="right",m<g&&(s.up===!0&&r<0?n="up":s.down===!0&&r>0&&(n="down")));let b=!1;if(n===void 0&&c===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};n=t.event.lastDir,b=!0,n==="left"||n==="right"?(a.left-=o,m=0,o=0):(a.top-=r,g=0,r=0)}return{synthetic:b,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:a,direction:n,isFirst:t.event.isFirst,isFinal:c===!0,duration:Date.now()-t.event.time,distance:{x:m,y:g},offset:{x:o,y:r},delta:{x:a.left-t.event.lastX,y:a.top-t.event.lastY}}}}let It=0;const Ot=et({name:"touch-pan",beforeMount(e,{value:t,modifiers:c}){if(c.mouse!==!0&&te.has.touch!==!0)return;function a(o,r){c.mouse===!0&&r===!0?at(o):(c.stop===!0&&ne(o),c.prevent===!0&&be(o))}const n={uid:"qvtp_"+It++,handler:t,modifiers:c,direction:Ve(c),noop:tt,mouseStart(o){Ee(o,n)&&nt(o)&&(le(n,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),n.start(o,!0))},touchStart(o){if(Ee(o,n)){const r=o.target;le(n,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),n.start(o)}},start(o,r){if(te.is.firefox===!0&&de(e,!0),n.lastEvt=o,r===!0||c.stop===!0){if(n.direction.all!==!0&&(r!==!0||n.modifiers.mouseAllDir!==!0&&n.modifiers.mousealldir!==!0)){const s=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&be(s),o.cancelBubble===!0&&ne(s),Object.assign(s,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[n.uid]:o.qClonedBy.concat(n.uid)}),n.initialEvent={target:o.target,event:s}}ne(o)}const{left:m,top:g}=me(o);n.event={x:m,y:g,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:m,lastY:g}},move(o){if(n.event===void 0)return;const r=me(o),m=r.left-n.event.x,g=r.top-n.event.y;if(m===0&&g===0)return;n.lastEvt=o;const s=n.event.mouse===!0,b=()=>{a(o,s);let x;c.preserveCursor!==!0&&c.preservecursor!==!0&&(x=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ye(),n.styleCleanup=F=>{if(n.styleCleanup=void 0,x!==void 0&&(document.documentElement.style.cursor=x),document.body.classList.remove("non-selectable"),s===!0){const q=()=>{document.body.classList.remove("no-pointer-events--children")};F!==void 0?setTimeout(()=>{q(),F()},50):q()}else F!==void 0&&F()}};if(n.event.detected===!0){n.event.isFirst!==!0&&a(o,n.event.mouse);const{payload:x,synthetic:F}=fe(o,n,!1);x!==void 0&&(n.handler(x)===!1?n.end(o):(n.styleCleanup===void 0&&n.event.isFirst===!0&&b(),n.event.lastX=x.position.left,n.event.lastY=x.position.top,n.event.lastDir=F===!0?void 0:x.direction,n.event.isFirst=!1));return}if(n.direction.all===!0||s===!0&&(n.modifiers.mouseAllDir===!0||n.modifiers.mousealldir===!0)){b(),n.event.detected=!0,n.move(o);return}const v=Math.abs(m),W=Math.abs(g);v!==W&&(n.direction.horizontal===!0&&v>W||n.direction.vertical===!0&&v<W||n.direction.up===!0&&v<W&&g<0||n.direction.down===!0&&v<W&&g>0||n.direction.left===!0&&v>W&&m<0||n.direction.right===!0&&v>W&&m>0?(n.event.detected=!0,n.move(o)):n.end(o,!0))},end(o,r){if(n.event!==void 0){if(ce(n,"temp"),te.is.firefox===!0&&de(e,!1),r===!0)n.styleCleanup!==void 0&&n.styleCleanup(),n.event.detected!==!0&&n.initialEvent!==void 0&&n.initialEvent.target.dispatchEvent(n.initialEvent.event);else if(n.event.detected===!0){n.event.isFirst===!0&&n.handler(fe(o===void 0?n.lastEvt:o,n).payload);const{payload:m}=fe(o===void 0?n.lastEvt:o,n,!0),g=()=>{n.handler(m)};n.styleCleanup!==void 0?n.styleCleanup(g):g()}n.event=void 0,n.initialEvent=void 0,n.lastEvt=void 0}}};if(e.__qtouchpan=n,c.mouse===!0){const o=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";le(n,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}te.has.touch===!0&&le(n,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const c=e.__qtouchpan;c!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&c.end(),c.handler=t.value),c.direction=Ve(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),ce(t,"main"),ce(t,"temp"),te.is.firefox===!0&&de(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function At(){let e=Object.create(null);return{getCache:(t,c)=>e[t]===void 0?e[t]=typeof c=="function"?c():c:e[t],setCache(t,c){e[t]=c},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const Re=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]],Pt=Te({name:"QSlideItem",props:{...ut,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:c}){const{proxy:a}=Fe(),{$q:n}=a,o=st(e,n),{getCache:r}=At(),m=Y(null);let g=null,s={},b={},v={};const W=j(()=>n.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),x=j(()=>"q-slide-item q-item-type overflow-hidden"+(o.value===!0?" q-slide-item--dark q-dark":""));function F(){m.value.style.transform="translate(0,0)"}function q(w,h,S){e.onSlide!==void 0&&c("slide",{side:w,ratio:h,isReset:S})}function L(w){const h=m.value;if(w.isFirst)s={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},h.classList.add("no-transition"),Re.forEach(_=>{if(t[_[0]]!==void 0){const A=v[_[0]];A.style.transform="scale(1)",s.size[_[0]]=A.getBoundingClientRect()[_[3]]}}),s.axis=w.direction==="up"||w.direction==="down"?"Y":"X";else if(w.isFinal){h.classList.remove("no-transition"),s.scale===1?(h.style.transform=`translate${s.axis}(${s.dir*100}%)`,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,c(s.showing,{reset:F}),c("action",{side:s.showing,reset:F})},230)):(h.style.transform="translate(0,0)",q(s.showing,0,!0));return}else w.direction=s.axis==="X"?w.offset.x<0?"left":"right":w.offset.y<0?"up":"down";if(t.left===void 0&&w.direction===W.value.right||t.right===void 0&&w.direction===W.value.left||t.top===void 0&&w.direction==="down"||t.bottom===void 0&&w.direction==="up"){h.style.transform="translate(0,0)";return}let S,P,B;s.axis==="X"?(P=w.direction==="left"?-1:1,S=P===1?W.value.left:W.value.right,B=w.distance.x):(P=w.direction==="up"?-2:2,S=P===2?"top":"bottom",B=w.distance.y),!(s.dir!==null&&Math.abs(P)!==Math.abs(s.dir))&&(s.dir!==P&&(["left","right","top","bottom"].forEach(_=>{b[_]&&(b[_].style.visibility=S===_?"visible":"hidden")}),s.showing=S,s.dir=P),s.scale=Math.max(0,Math.min(1,(B-40)/s.size[S])),h.style.transform=`translate${s.axis}(${B*P/Math.abs(P)}px)`,v[S].style.transform=`scale(${s.scale})`,q(S,s.scale,!1))}return ot(()=>{b={},v={}}),We(()=>{g!==null&&clearTimeout(g)}),Object.assign(a,{reset:F}),()=>{const w=[],h={left:t[W.value.right]!==void 0,right:t[W.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},S=Object.keys(h).filter(B=>h[B]===!0);Re.forEach(B=>{const _=B[0];t[_]!==void 0&&w.push(Z("div",{key:_,ref:A=>{b[_]=A},class:`q-slide-item__${_} absolute-full row no-wrap items-${B[1]} justify-${B[2]}`+(e[_+"Color"]!==void 0?` bg-${e[_+"Color"]}`:"")},[Z("div",{ref:A=>{v[_]=A}},t[_]())]))});const P=Z("div",{key:`${S.length===0?"only-":""} content`,ref:m,class:"q-slide-item__content"},Pe(t.default));return S.length===0?w.push(P):w.push(lt(P,r("dir#"+S.join(""),()=>{const B={prevent:!0,stop:!0,mouse:!0};return S.forEach(_=>{B[_]=!0}),[[Ot,L,void 0,B]]}))),Z("div",{class:x.value},w)}}}),qt=ae({__name:"WuSlideItem",props:{color:{}},setup(e,{expose:t}){t();const c={get getStringOrEmpty(){return dt}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function Dt(e,t,c,a,n,o){return U(),K(Pt,{"right-color":a.getStringOrEmpty(c.color)},{right:C(()=>[re(e.$slots,"right")]),default:C(()=>[re(e.$slots,"default")]),_:3},8,["right-color"])}const jt=ee(qt,[["render",Dt],["__file","WuSlideItem.vue"]]),Lt=ae({__name:"WorkoutEdit",props:{workout:{}},setup(e,{expose:t}){t();const c=e,{isScreenLarge:a}=ct(),{getReactiveStr:n}=Xe(),o=j(()=>[{name:"exercise",label:n("Exercise","Exer.").value,field:h=>h.exercice.name},{name:"repetitions",label:n("Repetitions","Reps.").value,field:"repetitions"},{name:"weight",label:n("Weight","Wgt.").value,field:"weight"},{name:"restTime",label:n("Rest Time","Rest").value,field:"restTime"}]);function r(){return c.workout.id?{name:"WorkoutDetails",params:{workoutId:c.workout.id}}:{name:"HomePage"}}function m(){g.value.id?gt(g.value):vt(g.value)}const g=Se(c.workout),s=j(()=>g.value.rounds.at(-1));function b(){const h=Se(s.value),S={exercice:{name:"",category:""},repetitions:"0",weight:"0",restTime:"0"};g.value.rounds.push(h.value??S)}function v(h){g.value.rounds=g.value.rounds.filter(S=>S!==h),console.log(h)}function W(h,S){v(S),h.reset()}const x=Y(!1),F=j(()=>h=>x.value&&h===s.value);N(()=>g.value.rounds.length,(h,S)=>{if(h<=S){x.value=!1;return}q(),x.value=!0},{flush:"post"});function q(){scrollTo({top:L.value?.$el.scrollHeight,behavior:"smooth"})}const L=Y(),w={props:c,isScreenLarge:a,getReactiveStr:n,columns:o,getDetailsPageRoute:r,saveUpdates:m,editedWorkout:g,lastRound:s,addRound:b,removeRound:v,onRight:W,isFocusActivated:x,isFocused:F,scrollToLastRound:q,tableRef:L,RoundEdit:Vt,WuBaseInput:Ae,WuBaseTextarea:Tt,get QTable(){return Ze},WuBaseButton:ft,WorkoutLayout:mt,WuSlideItem:jt};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),Ut={class:"wu-header-wrapper"};function zt(e,t,c,a,n,o){return U(),K(a.WorkoutLayout,null,{header:C(()=>[G("div",Ut,[G("div",null,[V(a.WuBaseInput,{class:"date",modelValue:a.editedWorkout.date,"onUpdate:modelValue":t[0]||(t[0]=r=>a.editedWorkout.date=r),mask:"####/##/##",inputmode:"numeric",placeholder:"Date"},null,8,["modelValue"]),V(a.WuBaseInput,{class:"small-input hide-when-large",modelValue:a.editedWorkout.totalDuration,"onUpdate:modelValue":t[1]||(t[1]=r=>a.editedWorkout.totalDuration=r),placeholder:"00:00",mask:"##:##",inputmode:"numeric"},{default:C(()=>[V(ke,{size:"sm",name:"schedule"})]),_:1},8,["modelValue"])]),G("div",null,[V(a.WuBaseInput,{modelValue:a.editedWorkout.name,"onUpdate:modelValue":t[2]||(t[2]=r=>a.editedWorkout.name=r),placeholder:"Title",class:"workout-title text-h5"},null,8,["modelValue"]),V(a.WuBaseInput,{class:"small-input hide-when-small",modelValue:a.editedWorkout.totalDuration,"onUpdate:modelValue":t[3]||(t[3]=r=>a.editedWorkout.totalDuration=r),placeholder:"00:00",inputmode:"numeric",mask:"##:##"},{default:C(()=>[V(ke,{size:"sm",name:"schedule"})]),_:1},8,["modelValue"])]),G("div",null,[V(a.WuBaseTextarea,{class:"workout-notes",modelValue:a.editedWorkout.notes,"onUpdate:modelValue":t[4]||(t[4]=r=>a.editedWorkout.notes=r),placeholder:"Notes"},null,8,["modelValue"])])])]),body:C(()=>[V(a.QTable,{style:{"border-radius":"var(--wu-border-radius)"},ref:"tableRef",flat:"",dense:"",rows:a.editedWorkout.rounds,columns:a.columns,"row-key":"index",bordered:"","hide-pagination":"","rows-per-page-options":[0]},{header:C(r=>[V(ue,{props:r},{default:C(()=>[(U(!0),he(Be,null,rt(r.cols,m=>(U(),K(we,{key:m.name,props:r},{default:C(()=>[_e(it(m.label),1)]),_:2},1032,["props"]))),128)),a.isScreenLarge?(U(),K(we,{key:0,"auto-width":""})):xe("",!0)]),_:2},1032,["props"])]),body:C(r=>[V(ue,{props:r},{default:C(()=>[a.isScreenLarge?(U(),K(a.RoundEdit,{key:0,modelValue:r.row,"onUpdate:modelValue":m=>r.row=m,focus:a.isFocused(r.row)},null,8,["modelValue","onUpdate:modelValue","focus"])):xe("",!0),a.isScreenLarge?(U(),K(se,{key:1,"auto-width":""},{default:C(()=>[V(a.WuBaseButton,{tertiary:"",icon:"close",onClick:m=>a.removeRound(r.row)},null,8,["onClick"])]),_:2},1024)):(U(),K(se,{key:2,colspan:a.columns.length,style:{padding:"0"}},{default:C(()=>[V(a.WuSlideItem,{onRight:m=>a.onRight(m,r.row),color:"red"},{right:C(()=>t[5]||(t[5]=[_e(" Delete ")])),default:C(()=>[V(a.RoundEdit,{modelValue:r.row,"onUpdate:modelValue":m=>r.row=m,focus:a.isFocused(r.row)},null,8,["modelValue","onUpdate:modelValue","focus"])]),_:2},1032,["onRight"])]),_:2},1032,["colspan"]))]),_:2},1032,["props"])]),"no-data":C(()=>t[6]||(t[6]=[G("span",{class:"row justify-center text-grey-8",style:{width:"100%"}}," Your rounds will appear here ",-1)])),"bottom-row":C(()=>[V(ue,null,{default:C(()=>[V(se,{colspan:"100%",style:{padding:"0"}},{default:C(()=>[V(qe,{flat:"",icon:"add",ripple:!1,padding:"0",style:{width:"100%",height:"40px"},onClick:a.addRound})]),_:1})]),_:1})]),_:1},8,["rows","columns"])]),footer:C(()=>[V(a.WuBaseButton,{class:"q-mr-md",secondary:"",icon:"arrow_back",label:"Return",to:a.getDetailsPageRoute()},null,8,["to"]),V(a.WuBaseButton,{icon:"check",primary:"",label:"Save",color:"primary",onClick:a.saveUpdates,to:a.getDetailsPageRoute()},null,8,["to"])]),_:1})}const Xt=ee(Lt,[["render",zt],["__scopeId","data-v-acf83d16"],["__file","WorkoutEdit.vue"]]);export{Xt as W};
