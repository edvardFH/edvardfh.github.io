import{c as Ae,d as De,e as Pe,f as qe,g as je,h as Le,i as pe,j as Ue,k as Ne,b as re,l as ze,m as Ke,u as Qe,a as Ye,Q as ue,n as ke}from"./StringAbbreviation-C9klokdu.js";import{h as Xe,Q as Ze}from"./QBtn-DAQ4_NTl.js";import{r as Y,w as K,d as J,J as He,a as j,c as Ee,b as Re,o as Je,h as Z,K as Ge,g as Te,L as ne,x as ae,M as ve,N as he,_ as $,s as U,t as z,u as E,v as fe,E as We,z as V,G as Fe,O as $e,P as et,Q as ee,n as tt,R as nt,S as le,T as se,U as ye,V as me,W as de,X as at,Y as ot,Z as lt,C as te,F as rt,H as we,A as be,D as it}from"./index-Du_IofS6.js";import{u as ut,j as st,g as dt,W as ct,c as ft,k as mt,l as vt}from"./WuPage-CBItaMTz.js";const xe={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ie={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Be=Object.keys(ie);Be.forEach(e=>{ie[e].regex=new RegExp(ie[e].pattern)});const ht=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Be.join("")+"])|(.)","g"),_e=/[.*+?^${}()|[\]\\]/g,O="",gt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function pt(e,t,c,a){let n,o,r,m,v,s;const b=Y(null),h=Y(x());function W(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}K(()=>e.type+e.autogrow,P),K(()=>e.mask,d=>{if(d!==void 0)L(h.value,!0);else{const i=A(h.value);P(),e.modelValue!==i&&t("update:modelValue",i)}}),K(()=>e.fillMask+e.reverseFillMask,()=>{b.value===!0&&L(h.value,!0)}),K(()=>e.unmaskedValue,()=>{b.value===!0&&L(h.value)});function x(){if(P(),b.value===!0){const d=B(A(e.modelValue));return e.fillMask!==!1?oe(d):d}return e.modelValue}function F(d){if(d<n.length)return n.slice(-d);let i="",f=n;const u=f.indexOf(O);if(u!==-1){for(let k=d-f.length;k>0;k--)i+=O;f=f.slice(0,u)+i+f.slice(u)}return f}function P(){if(b.value=e.mask!==void 0&&e.mask.length!==0&&W(),b.value===!1){m=void 0,n="",o="";return}const d=xe[e.mask]===void 0?e.mask:xe[e.mask],i=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",f=i.replace(_e,"\\$&"),u=[],k=[],p=[];let T=e.reverseFillMask===!0,y="",M="";d.replace(ht,(I,l,R,Q,N)=>{if(Q!==void 0){const q=ie[Q];p.push(q),M=q.negate,T===!0&&(k.push("(?:"+M+"+)?("+q.pattern+"+)?(?:"+M+"+)?("+q.pattern+"+)?"),T=!1),k.push("(?:"+M+"+)?("+q.pattern+")?")}else if(R!==void 0)y="\\"+(R==="\\"?"":R),p.push(R),u.push("([^"+y+"]+)?"+y+"?");else{const q=l!==void 0?l:N;y=q==="\\"?"\\\\\\\\":q.replace(_e,"\\\\$&"),p.push(q),u.push("([^"+y+"]+)?"+y+"?")}});const H=new RegExp("^"+u.join("")+"("+(y===""?".":"[^"+y+"]")+"+)?"+(y===""?"":"["+y+"]*")+"$"),X=k.length-1,S=k.map((I,l)=>l===0&&e.reverseFillMask===!0?new RegExp("^"+f+"*"+I):l===X?new RegExp("^"+I+"("+(M===""?".":M)+"+)?"+(e.reverseFillMask===!0?"$":f+"*")):new RegExp("^"+I));r=p,m=I=>{const l=H.exec(e.reverseFillMask===!0?I:I.slice(0,p.length+1));l!==null&&(I=l.slice(1).join(""));const R=[],Q=S.length;for(let N=0,q=I;N<Q;N++){const G=S[N].exec(q);if(G===null)break;q=q.slice(G.shift().length),R.push(...G)}return R.length!==0?R.join(""):I},n=p.map(I=>typeof I=="string"?I:O).join(""),o=n.split(O).join(i)}function L(d,i,f){const u=a.value,k=u.selectionEnd,p=u.value.length-k,T=A(d);i===!0&&P();const y=B(T),M=e.fillMask!==!1?oe(y):y,H=h.value!==M;u.value!==M&&(u.value=M),H===!0&&(h.value=M),document.activeElement===u&&J(()=>{if(M===o){const S=e.reverseFillMask===!0?o.length:0;u.setSelectionRange(S,S,"forward");return}if(f==="insertFromPaste"&&e.reverseFillMask!==!0){const S=u.selectionEnd;let I=k-1;for(let l=v;l<=I&&l<S;l++)n[l]!==O&&I++;g.right(u,I);return}if(["deleteContentBackward","deleteContentForward"].indexOf(f)!==-1){const S=e.reverseFillMask===!0?k===0?M.length>y.length?1:0:Math.max(0,M.length-(M===o?0:Math.min(y.length,p)+1))+1:k;u.setSelectionRange(S,S,"forward");return}if(e.reverseFillMask===!0)if(H===!0){const S=Math.max(0,M.length-(M===o?0:Math.min(y.length,p+1)));S===1&&k===1?u.setSelectionRange(S,S,"forward"):g.rightReverse(u,S)}else{const S=M.length-p;u.setSelectionRange(S,S,"backward")}else if(H===!0){const S=Math.max(0,n.indexOf(O),Math.min(y.length,k)-1);g.right(u,S)}else{const S=k-1;g.right(u,S)}});const X=e.unmaskedValue===!0?A(M):M;String(e.modelValue)!==X&&(e.modelValue!==null||X!=="")&&c(X,!0)}function w(d,i,f){const u=B(A(d.value));i=Math.max(0,n.indexOf(O),Math.min(u.length,i)),v=i,d.setSelectionRange(i,f,"forward")}const g={left(d,i){const f=n.slice(i-1).indexOf(O)===-1;let u=Math.max(0,i-1);for(;u>=0;u--)if(n[u]===O){i=u,f===!0&&i++;break}if(u<0&&n[i]!==void 0&&n[i]!==O)return g.right(d,0);i>=0&&d.setSelectionRange(i,i,"backward")},right(d,i){const f=d.value.length;let u=Math.min(f,i+1);for(;u<=f;u++)if(n[u]===O){i=u;break}else n[u-1]===O&&(i=u);if(u>f&&n[i-1]!==void 0&&n[i-1]!==O)return g.left(d,f);d.setSelectionRange(i,i,"forward")},leftReverse(d,i){const f=F(d.value.length);let u=Math.max(0,i-1);for(;u>=0;u--)if(f[u-1]===O){i=u;break}else if(f[u]===O&&(i=u,u===0))break;if(u<0&&f[i]!==void 0&&f[i]!==O)return g.rightReverse(d,0);i>=0&&d.setSelectionRange(i,i,"backward")},rightReverse(d,i){const f=d.value.length,u=F(f),k=u.slice(0,i+1).indexOf(O)===-1;let p=Math.min(f,i+1);for(;p<=f;p++)if(u[p-1]===O){i=p,i>0&&k===!0&&i--;break}if(p>f&&u[i-1]!==void 0&&u[i-1]!==O)return g.leftReverse(d,f);d.setSelectionRange(i,i,"forward")}};function C(d){t("click",d),s=void 0}function D(d){if(t("keydown",d),He(d)===!0||d.altKey===!0)return;const i=a.value,f=i.selectionStart,u=i.selectionEnd;if(d.shiftKey||(s=void 0),d.keyCode===37||d.keyCode===39){d.shiftKey&&s===void 0&&(s=i.selectionDirection==="forward"?f:u);const k=g[(d.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(d.preventDefault(),k(i,s===f?u:f),d.shiftKey){const p=i.selectionStart;i.setSelectionRange(Math.min(s,p),Math.max(s,p),"forward")}}else d.keyCode===8&&e.reverseFillMask!==!0&&f===u?(g.left(i,f),i.setSelectionRange(i.selectionStart,u,"backward")):d.keyCode===46&&e.reverseFillMask===!0&&f===u&&(g.rightReverse(i,u),i.setSelectionRange(f,i.selectionEnd,"forward"))}function B(d){if(d==null||d==="")return"";if(e.reverseFillMask===!0)return _(d);const i=r;let f=0,u="";for(let k=0;k<i.length;k++){const p=d[f],T=i[k];if(typeof T=="string")u+=T,p===T&&f++;else if(p!==void 0&&T.regex.test(p))u+=T.transform!==void 0?T.transform(p):p,f++;else return u}return u}function _(d){const i=r,f=n.indexOf(O);let u=d.length-1,k="";for(let p=i.length-1;p>=0&&u!==-1;p--){const T=i[p];let y=d[u];if(typeof T=="string")k=T+k,y===T&&u--;else if(y!==void 0&&T.regex.test(y))do k=(T.transform!==void 0?T.transform(y):y)+k,u--,y=d[u];while(f===p&&y!==void 0&&T.regex.test(y));else return k}return k}function A(d){return typeof d!="string"||m===void 0?typeof d=="number"?m(""+d):d:m(d)}function oe(d){return o.length-d.length<=0?d:e.reverseFillMask===!0&&d.length!==0?o.slice(0,-d.length)+d:d+o.slice(d.length)}return{innerValue:h,hasMask:b,moveCursorForPaste:w,updateMaskValue:L,onMaskedKeydown:D,onMaskedClick:C}}function kt(e,t){function c(){const a=e.modelValue;try{const n="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(o=>{n.items.add(o)}),{files:n.files}}catch{return{files:void 0}}}return j(()=>{if(e.type==="file")return c()})}const Oe=Ee({name:"QInput",inheritAttrs:!1,props:{...Ae,...gt,...De,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Pe,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:c}){const{proxy:a}=Te(),{$q:n}=a,o={};let r=NaN,m,v,s=null,b;const h=Y(null),W=qe(e),{innerValue:x,hasMask:F,moveCursorForPaste:P,updateMaskValue:L,onMaskedKeydown:w,onMaskedClick:g}=pt(e,t,y,h),C=kt(e),D=j(()=>pe(x.value)),B=Ne(p),_=je({changeEvent:!0}),A=j(()=>e.type==="textarea"||e.autogrow===!0),oe=j(()=>A.value===!0||["text","search","url","tel","password"].includes(e.type)),d=j(()=>{const l={..._.splitAttrs.listeners.value,onInput:p,onPaste:k,onChange:H,onBlur:X,onFocus:ne};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=B,F.value===!0&&(l.onKeydown=w,l.onClick=g),e.autogrow===!0&&(l.onAnimationend=T),l}),i=j(()=>{const l={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:W.value,..._.splitAttrs.attributes.value,id:_.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return A.value===!1&&(l.type=e.type),e.autogrow===!0&&(l.rows=1),l});K(()=>e.type,()=>{h.value&&(h.value.value=e.modelValue)}),K(()=>e.modelValue,l=>{if(F.value===!0){if(v===!0&&(v=!1,String(l)===r))return;L(l)}else x.value!==l&&(x.value=l,e.type==="number"&&o.hasOwnProperty("value")===!0&&(m===!0?m=!1:delete o.value));e.autogrow===!0&&J(M)}),K(()=>e.autogrow,l=>{l===!0?J(M):h.value!==null&&c.rows>0&&(h.value.style.height="auto")}),K(()=>e.dense,()=>{e.autogrow===!0&&J(M)});function f(){Ue(()=>{const l=document.activeElement;h.value!==null&&h.value!==l&&(l===null||l.id!==_.targetUid.value)&&h.value.focus({preventScroll:!0})})}function u(){h.value!==null&&h.value.select()}function k(l){if(F.value===!0&&e.reverseFillMask!==!0){const R=l.target;P(R,R.selectionStart,R.selectionEnd)}t("paste",l)}function p(l){if(!l||!l.target)return;if(e.type==="file"){t("update:modelValue",l.target.files);return}const R=l.target.value;if(l.target.qComposing===!0){o.value=R;return}if(F.value===!0)L(R,!1,l.inputType);else if(y(R),oe.value===!0&&l.target===document.activeElement){const{selectionStart:Q,selectionEnd:N}=l.target;Q!==void 0&&N!==void 0&&J(()=>{l.target===document.activeElement&&R.indexOf(l.target.value)===0&&l.target.setSelectionRange(Q,N)})}e.autogrow===!0&&M()}function T(l){t("animationend",l),M()}function y(l,R){b=()=>{s=null,e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==l&&r!==l&&(r=l,R===!0&&(v=!0),t("update:modelValue",l),J(()=>{r===l&&(r=NaN)})),b=void 0},e.type==="number"&&(m=!0,o.value=l),e.debounce!==void 0?(s!==null&&clearTimeout(s),o.value=l,s=setTimeout(b,e.debounce)):b()}function M(){requestAnimationFrame(()=>{const l=h.value;if(l!==null){const R=l.parentNode.style,{scrollTop:Q}=l,{overflowY:N,maxHeight:q}=n.platform.is.firefox===!0?{}:window.getComputedStyle(l),G=N!==void 0&&N!=="scroll";G===!0&&(l.style.overflowY="hidden"),R.marginBottom=l.scrollHeight-1+"px",l.style.height="1px",l.style.height=l.scrollHeight+"px",G===!0&&(l.style.overflowY=parseInt(q,10)<l.scrollHeight?"auto":"hidden"),R.marginBottom="",l.scrollTop=Q}})}function H(l){B(l),s!==null&&(clearTimeout(s),s=null),b!==void 0&&b(),t("change",l.target.value)}function X(l){l!==void 0&&ne(l),s!==null&&(clearTimeout(s),s=null),b!==void 0&&b(),m=!1,v=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=x.value!==void 0?x.value:"")})}function S(){return o.hasOwnProperty("value")===!0?o.value:x.value!==void 0?x.value:""}Re(()=>{X()}),Je(()=>{e.autogrow===!0&&M()}),Object.assign(_,{innerValue:x,fieldClass:j(()=>`q-${A.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:j(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:h,emitValue:y,hasValue:D,floatingLabel:j(()=>D.value===!0&&(e.type!=="number"||isNaN(x.value)===!1)||pe(e.displayValue)),getControl:()=>Z(A.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...i.value,...d.value,...e.type!=="file"?{value:S()}:C.value}),getShadowControl:()=>Z("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(A.value===!0?"":" text-no-wrap")},[Z("span",{class:"invisible"},S()),Z("span",e.shadowText)])});const I=Le(_);return Object.assign(a,{focus:f,select:u,getNativeElement:()=>h.value}),Ge(a,"nativeEl",()=>h.value),I}}),yt=ae({__name:"WuBaseInput",props:ve({placeholder:{},label:{},focus:{type:Boolean},textRight:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const c=e,a=Y(),n=he(e,"modelValue");K(()=>c.focus,async()=>{await J(),c.focus&&a.value?.focus()},{immediate:!0});const o={props:c,inputRef:a,model:n,get QInput(){return Oe}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function wt(e,t,c,a,n,o){return U(),z(a.QInput,{label:c.label,ref:"inputRef",filled:"",dense:"",placeholder:c.placeholder??"","input-class":{"text-right":c.textRight},modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model=r)},null,8,["label","placeholder","input-class","modelValue"])}const Ie=$(yt,[["render",wt],["__scopeId","data-v-fcc0d107"],["__file","WuBaseInput.vue"]]),bt={};function xt(e,t){return U(),z(re,null,{default:E(()=>[fe(e.$slots,"default")]),_:3})}const _t=$(bt,[["render",xt],["__file","WuTd.vue"]]),Mt=ae({__name:"RoundEdit",props:ve({focus:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const a={model:he(e,"modelValue"),WuBaseInput:Ie,WuTd:_t};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Ct(e,t,c,a,n,o){return U(),We(Fe,null,[V(a.WuTd,null,{default:E(()=>[V(a.WuBaseInput,{focus:!!c.focus,"text-right":"",modelValue:a.model.exercice.name,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model.exercice.name=r)},null,8,["focus","modelValue"])]),_:1}),V(a.WuTd,null,{default:E(()=>[V(a.WuBaseInput,{"text-right":"",modelValue:a.model.repetitions,"onUpdate:modelValue":t[1]||(t[1]=r=>a.model.repetitions=r),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),V(a.WuTd,null,{default:E(()=>[V(a.WuBaseInput,{"text-right":"",modelValue:a.model.weight,"onUpdate:modelValue":t[2]||(t[2]=r=>a.model.weight=r),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),V(a.WuTd,null,{default:E(()=>[V(a.WuBaseInput,{"text-right":"",modelValue:a.model.restTime,"onUpdate:modelValue":t[3]||(t[3]=r=>a.model.restTime=r),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})],64)}const St=$(Mt,[["render",Ct],["__file","RoundEdit.vue"]]),Vt=ae({__name:"WuBaseTextarea",props:ve({placeholder:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const a={model:he(e,"modelValue")};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Et(e,t,c,a,n,o){return U(),z(Oe,{placeholder:c.placeholder??"",filled:"",dense:"",autogrow:"",modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model=r)},null,8,["placeholder","modelValue"])}const Rt=$(Vt,[["render",Et],["__scopeId","data-v-79553cfa"],["__file","WuBaseTextarea.vue"]]);function Me(e){const t=$e(e);return t!==void 0?Tt(t):Y(t)}function Tt(e){const t=JSON.parse(JSON.stringify(e));return Y(t)}const ge={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Wt=Object.keys(ge);ge.all=!0;function Ce(e){const t={};for(const c of Wt)e[c]===!0&&(t[c]=!0);return Object.keys(t).length===0?ge:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Ft=["INPUT","TEXTAREA"];function Se(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Ft.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function ce(e,t,c){const a=me(e);let n,o=a.left-t.event.x,r=a.top-t.event.y,m=Math.abs(o),v=Math.abs(r);const s=t.direction;s.horizontal===!0&&s.vertical!==!0?n=o<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?n=r<0?"up":"down":s.up===!0&&r<0?(n="up",m>v&&(s.left===!0&&o<0?n="left":s.right===!0&&o>0&&(n="right"))):s.down===!0&&r>0?(n="down",m>v&&(s.left===!0&&o<0?n="left":s.right===!0&&o>0&&(n="right"))):s.left===!0&&o<0?(n="left",m<v&&(s.up===!0&&r<0?n="up":s.down===!0&&r>0&&(n="down"))):s.right===!0&&o>0&&(n="right",m<v&&(s.up===!0&&r<0?n="up":s.down===!0&&r>0&&(n="down")));let b=!1;if(n===void 0&&c===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};n=t.event.lastDir,b=!0,n==="left"||n==="right"?(a.left-=o,m=0,o=0):(a.top-=r,v=0,r=0)}return{synthetic:b,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:a,direction:n,isFirst:t.event.isFirst,isFinal:c===!0,duration:Date.now()-t.event.time,distance:{x:m,y:v},offset:{x:o,y:r},delta:{x:a.left-t.event.lastX,y:a.top-t.event.lastY}}}}let Bt=0;const Ot=et({name:"touch-pan",beforeMount(e,{value:t,modifiers:c}){if(c.mouse!==!0&&ee.has.touch!==!0)return;function a(o,r){c.mouse===!0&&r===!0?at(o):(c.stop===!0&&ne(o),c.prevent===!0&&ye(o))}const n={uid:"qvtp_"+Bt++,handler:t,modifiers:c,direction:Ce(c),noop:tt,mouseStart(o){Se(o,n)&&nt(o)&&(le(n,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),n.start(o,!0))},touchStart(o){if(Se(o,n)){const r=o.target;le(n,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),n.start(o)}},start(o,r){if(ee.is.firefox===!0&&se(e,!0),n.lastEvt=o,r===!0||c.stop===!0){if(n.direction.all!==!0&&(r!==!0||n.modifiers.mouseAllDir!==!0&&n.modifiers.mousealldir!==!0)){const s=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&ye(s),o.cancelBubble===!0&&ne(s),Object.assign(s,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[n.uid]:o.qClonedBy.concat(n.uid)}),n.initialEvent={target:o.target,event:s}}ne(o)}const{left:m,top:v}=me(o);n.event={x:m,y:v,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:m,lastY:v}},move(o){if(n.event===void 0)return;const r=me(o),m=r.left-n.event.x,v=r.top-n.event.y;if(m===0&&v===0)return;n.lastEvt=o;const s=n.event.mouse===!0,b=()=>{a(o,s);let x;c.preserveCursor!==!0&&c.preservecursor!==!0&&(x=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ze(),n.styleCleanup=F=>{if(n.styleCleanup=void 0,x!==void 0&&(document.documentElement.style.cursor=x),document.body.classList.remove("non-selectable"),s===!0){const P=()=>{document.body.classList.remove("no-pointer-events--children")};F!==void 0?setTimeout(()=>{P(),F()},50):P()}else F!==void 0&&F()}};if(n.event.detected===!0){n.event.isFirst!==!0&&a(o,n.event.mouse);const{payload:x,synthetic:F}=ce(o,n,!1);x!==void 0&&(n.handler(x)===!1?n.end(o):(n.styleCleanup===void 0&&n.event.isFirst===!0&&b(),n.event.lastX=x.position.left,n.event.lastY=x.position.top,n.event.lastDir=F===!0?void 0:x.direction,n.event.isFirst=!1));return}if(n.direction.all===!0||s===!0&&(n.modifiers.mouseAllDir===!0||n.modifiers.mousealldir===!0)){b(),n.event.detected=!0,n.move(o);return}const h=Math.abs(m),W=Math.abs(v);h!==W&&(n.direction.horizontal===!0&&h>W||n.direction.vertical===!0&&h<W||n.direction.up===!0&&h<W&&v<0||n.direction.down===!0&&h<W&&v>0||n.direction.left===!0&&h>W&&m<0||n.direction.right===!0&&h>W&&m>0?(n.event.detected=!0,n.move(o)):n.end(o,!0))},end(o,r){if(n.event!==void 0){if(de(n,"temp"),ee.is.firefox===!0&&se(e,!1),r===!0)n.styleCleanup!==void 0&&n.styleCleanup(),n.event.detected!==!0&&n.initialEvent!==void 0&&n.initialEvent.target.dispatchEvent(n.initialEvent.event);else if(n.event.detected===!0){n.event.isFirst===!0&&n.handler(ce(o===void 0?n.lastEvt:o,n).payload);const{payload:m}=ce(o===void 0?n.lastEvt:o,n,!0),v=()=>{n.handler(m)};n.styleCleanup!==void 0?n.styleCleanup(v):v()}n.event=void 0,n.initialEvent=void 0,n.lastEvt=void 0}}};if(e.__qtouchpan=n,c.mouse===!0){const o=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";le(n,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}ee.has.touch===!0&&le(n,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const c=e.__qtouchpan;c!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&c.end(),c.handler=t.value),c.direction=Ce(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),de(t,"main"),de(t,"temp"),ee.is.firefox===!0&&se(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function It(){let e=Object.create(null);return{getCache:(t,c)=>e[t]===void 0?e[t]=typeof c=="function"?c():c:e[t],setCache(t,c){e[t]=c},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const Ve=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]],At=Ee({name:"QSlideItem",props:{...ut,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:c}){const{proxy:a}=Te(),{$q:n}=a,o=st(e,n),{getCache:r}=It(),m=Y(null);let v=null,s={},b={},h={};const W=j(()=>n.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),x=j(()=>"q-slide-item q-item-type overflow-hidden"+(o.value===!0?" q-slide-item--dark q-dark":""));function F(){m.value.style.transform="translate(0,0)"}function P(w,g,C){e.onSlide!==void 0&&c("slide",{side:w,ratio:g,isReset:C})}function L(w){const g=m.value;if(w.isFirst)s={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},g.classList.add("no-transition"),Ve.forEach(_=>{if(t[_[0]]!==void 0){const A=h[_[0]];A.style.transform="scale(1)",s.size[_[0]]=A.getBoundingClientRect()[_[3]]}}),s.axis=w.direction==="up"||w.direction==="down"?"Y":"X";else if(w.isFinal){g.classList.remove("no-transition"),s.scale===1?(g.style.transform=`translate${s.axis}(${s.dir*100}%)`,v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,c(s.showing,{reset:F}),c("action",{side:s.showing,reset:F})},230)):(g.style.transform="translate(0,0)",P(s.showing,0,!0));return}else w.direction=s.axis==="X"?w.offset.x<0?"left":"right":w.offset.y<0?"up":"down";if(t.left===void 0&&w.direction===W.value.right||t.right===void 0&&w.direction===W.value.left||t.top===void 0&&w.direction==="down"||t.bottom===void 0&&w.direction==="up"){g.style.transform="translate(0,0)";return}let C,D,B;s.axis==="X"?(D=w.direction==="left"?-1:1,C=D===1?W.value.left:W.value.right,B=w.distance.x):(D=w.direction==="up"?-2:2,C=D===2?"top":"bottom",B=w.distance.y),!(s.dir!==null&&Math.abs(D)!==Math.abs(s.dir))&&(s.dir!==D&&(["left","right","top","bottom"].forEach(_=>{b[_]&&(b[_].style.visibility=C===_?"visible":"hidden")}),s.showing=C,s.dir=D),s.scale=Math.max(0,Math.min(1,(B-40)/s.size[C])),g.style.transform=`translate${s.axis}(${B*D/Math.abs(D)}px)`,h[C].style.transform=`scale(${s.scale})`,P(C,s.scale,!1))}return ot(()=>{b={},h={}}),Re(()=>{v!==null&&clearTimeout(v)}),Object.assign(a,{reset:F}),()=>{const w=[],g={left:t[W.value.right]!==void 0,right:t[W.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},C=Object.keys(g).filter(B=>g[B]===!0);Ve.forEach(B=>{const _=B[0];t[_]!==void 0&&w.push(Z("div",{key:_,ref:A=>{b[_]=A},class:`q-slide-item__${_} absolute-full row no-wrap items-${B[1]} justify-${B[2]}`+(e[_+"Color"]!==void 0?` bg-${e[_+"Color"]}`:"")},[Z("div",{ref:A=>{h[_]=A}},t[_]())]))});const D=Z("div",{key:`${C.length===0?"only-":""} content`,ref:m,class:"q-slide-item__content"},Xe(t.default));return C.length===0?w.push(D):w.push(lt(D,r("dir#"+C.join(""),()=>{const B={prevent:!0,stop:!0,mouse:!0};return C.forEach(_=>{B[_]=!0}),[[Ot,L,void 0,B]]}))),Z("div",{class:x.value},w)}}}),Dt=ae({__name:"WuSlideItem",props:{color:{}},setup(e,{expose:t}){t();const c={get getStringOrEmpty(){return dt}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function Pt(e,t,c,a,n,o){return U(),z(At,{"right-color":a.getStringOrEmpty(c.color)},{right:E(()=>[fe(e.$slots,"right")]),default:E(()=>[fe(e.$slots,"default")]),_:3},8,["right-color"])}const qt=$(Dt,[["render",Pt],["__file","WuSlideItem.vue"]]),jt=ae({__name:"WorkoutEdit",props:{workout:{}},setup(e,{expose:t}){t();const c=e,{isScreenLarge:a}=Ke(),{getReactiveStr:n}=Qe(),o=j(()=>[{name:"exercise",label:n("Exercise","Exer.").value,field:g=>g.exercice.name},{name:"repetitions",label:n("Repetitions","Reps.").value,field:"repetitions"},{name:"weight",label:n("Weight","Wgt.").value,field:"weight"},{name:"restTime",label:n("Rest Time","Rest").value,field:"restTime"}]);function r(){return c.workout.id?{name:"WorkoutDetails",params:{workoutId:c.workout.id}}:{name:"HomePage"}}function m(){v.value.id?mt(v.value):vt(v.value)}const v=Me(c.workout),s=j(()=>v.value.rounds.at(-1));function b(){const g=Me(s.value),C={exercice:{name:"",category:""},repetitions:0,weight:0,restTime:0};v.value.rounds.push(g.value??C)}function h(g){v.value.rounds=v.value.rounds.filter(C=>C!==g),console.log(g)}function W(g,C){h(C),g.reset()}const x=Y(!1),F=j(()=>g=>x.value&&g===s.value);K(()=>v.value.rounds.length,(g,C)=>{if(g<=C){x.value=!1;return}L(),x.value=!0},{flush:"post"});const P=Y();function L(){scrollTo({top:P.value?.$el.scrollHeight,behavior:"smooth"})}const w={props:c,isScreenLarge:a,getReactiveStr:n,columns:o,getDetailsPageRoute:r,saveUpdates:m,editedWorkout:v,lastRound:s,addRound:b,removeRound:h,onRight:W,isFocusActivated:x,isFocused:F,tableRef:P,scrollToLastRound:L,RoundEdit:St,WuBaseInput:Ie,WuBaseTextarea:Rt,get QTable(){return Ye},WuBaseButton:ct,WorkoutLayout:ft,WuSlideItem:qt};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),Lt={class:"wu-header-wrapper"};function Ut(e,t,c,a,n,o){return U(),z(a.WorkoutLayout,null,{header:E(()=>[te("div",Lt,[te("div",null,[V(a.WuBaseInput,{class:"small-input",modelValue:a.editedWorkout.date,"onUpdate:modelValue":t[0]||(t[0]=r=>a.editedWorkout.date=r),placeholder:"Date"},null,8,["modelValue"]),V(a.WuBaseInput,{class:"small-input hide-when-large",modelValue:a.editedWorkout.totalDuration,"onUpdate:modelValue":t[1]||(t[1]=r=>a.editedWorkout.totalDuration=r),placeholder:"Duration"},null,8,["modelValue"])]),te("div",null,[V(a.WuBaseInput,{modelValue:a.editedWorkout.name,"onUpdate:modelValue":t[2]||(t[2]=r=>a.editedWorkout.name=r),placeholder:"Title",class:"workout-title text-h5"},null,8,["modelValue"]),V(a.WuBaseInput,{class:"small-input hide-when-small",modelValue:a.editedWorkout.totalDuration,"onUpdate:modelValue":t[3]||(t[3]=r=>a.editedWorkout.totalDuration=r),placeholder:"Duration"},null,8,["modelValue"])]),te("div",null,[V(a.WuBaseTextarea,{class:"workout-notes",modelValue:a.editedWorkout.notes,"onUpdate:modelValue":t[4]||(t[4]=r=>a.editedWorkout.notes=r),placeholder:"Notes"},null,8,["modelValue"])])])]),body:E(()=>[V(a.QTable,{style:{"border-radius":"var(--wu-border-radius)"},ref:"tableRef",flat:"",dense:"",rows:a.editedWorkout.rounds,columns:a.columns,"row-key":"index",bordered:"","hide-pagination":"","rows-per-page-options":[0]},{header:E(r=>[V(ue,{props:r},{default:E(()=>[(U(!0),We(Fe,null,rt(r.cols,m=>(U(),z(ke,{key:m.name,props:r},{default:E(()=>[be(it(m.label),1)]),_:2},1032,["props"]))),128)),a.isScreenLarge?(U(),z(ke,{key:0,"auto-width":""})):we("",!0)]),_:2},1032,["props"])]),body:E(r=>[V(ue,{props:r},{default:E(()=>[a.isScreenLarge?(U(),z(a.RoundEdit,{key:0,modelValue:r.row,"onUpdate:modelValue":m=>r.row=m,focus:a.isFocused(r.row)},null,8,["modelValue","onUpdate:modelValue","focus"])):we("",!0),a.isScreenLarge?(U(),z(re,{key:1,"auto-width":""},{default:E(()=>[V(a.WuBaseButton,{tertiary:"",icon:"close",onClick:m=>a.removeRound(r.row)},null,8,["onClick"])]),_:2},1024)):(U(),z(re,{key:2,colspan:a.columns.length,style:{padding:"0"}},{default:E(()=>[V(a.WuSlideItem,{onRight:m=>a.onRight(m,r.row),color:"red"},{right:E(()=>t[5]||(t[5]=[be(" Delete ")])),default:E(()=>[V(a.RoundEdit,{modelValue:r.row,"onUpdate:modelValue":m=>r.row=m,focus:a.isFocused(r.row)},null,8,["modelValue","onUpdate:modelValue","focus"])]),_:2},1032,["onRight"])]),_:2},1032,["colspan"]))]),_:2},1032,["props"])]),"no-data":E(()=>t[6]||(t[6]=[te("span",{class:"row justify-center text-grey-8",style:{width:"100%"}}," Your rounds will appear here ",-1)])),"bottom-row":E(()=>[V(ue,null,{default:E(()=>[V(re,{colspan:"100%",style:{padding:"0"}},{default:E(()=>[V(Ze,{flat:"",icon:"add",ripple:!1,padding:"0",style:{width:"100%",height:"40px"},onClick:a.addRound})]),_:1})]),_:1})]),_:1},8,["rows","columns"])]),footer:E(()=>[V(a.WuBaseButton,{class:"q-mr-md",secondary:"",icon:"arrow_back",label:"Return",to:a.getDetailsPageRoute()},null,8,["to"]),V(a.WuBaseButton,{icon:"check",primary:"",label:"Save",color:"primary",onClick:a.saveUpdates,to:a.getDetailsPageRoute()},null,8,["to"])]),_:1})}const Yt=$(jt,[["render",Ut],["__scopeId","data-v-9ca6e73f"],["__file","WorkoutEdit.vue"]]);export{Yt as W};
