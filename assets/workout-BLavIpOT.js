import{d as m}from"./pinia-DzZOTX3y.js";import{am as n,r as i,a as p}from"./index-C4rq5_Ee.js";function c(t,e){n.setItem(t,e)}function W(t){return n.getItem(t)}function g(){return window.crypto.randomUUID()}const a="workout-";function k(t){t.id=E(),c(t.id,t)}function I(t){c(t.id,t)}function r(){return n.getAllKeys().filter(t=>t.startsWith(a)).map(t=>W(t)).filter(t=>t!==null)}function E(){return a+g()}function x(){return[...new Set(r().flatMap(e=>e.rounds).map(e=>e.exercice.name))].map(e=>({name:e,category:""}))}const w=m("workout",()=>{const t=i(r()),e=i(x()),s=p(()=>o=>t.value.find(u=>u.id===o));function d(o){k(o),t.value.push(o)}function f(o){if(!t.value.find(l=>l.id===o.id)){console.error("Workout not found");return}I(o),t.value=r()}return{workouts:t,exercices:e,getWorkoutById:s,createWorkout:d,updateWorkout:f}});export{g as a,x as g,c as s,w as u};
