import{d}from"./pinia-DzZOTX3y.js";import{am as E,r as v,an as L,a as I}from"./index-C4rq5_Ee.js";import{s as h,u as y,a as T}from"./workout-BLavIpOT.js";import{O as P}from"./Option-DiMFBWQn.js";const l="wu_player";function R(){return P(E.getItem(l))}function W(e){h(l,e)}const a=600,u=14;function M(e){const t=u/2,n=(2*a-3*u)/2,r=u-a-e,s=(-579+Math.sqrt(n**2-4*t*r))/(2*t);return Math.floor(s)}function c(e){return u*(e-1)+a}function _(e){return(e-1)*(c(1)+c(e-1))/2}function B(e){const t=M(e);return{level:t,currentXpInLevel:e-_(t),maxXpInLevel:c(t)}}const X=100,i=75,S=4,b=1,x=.05;function A(e){return Math.round(X+F(e)-k(e))}function F(e){return m(e.rounds.map(O))}function O(e){return b*e.repetitions*D(e.weight)}function D(e){return f(e*U(e))}function U(e){return S*f(e)**2}function f(e){return(e+i)/i}function k(e){const t=e.rounds.slice(0,-1);return m(t.map(w))}function w(e){return e.restTime*x}function m(e){return e.reduce((t,n)=>t+n,0)}const C=d("user",()=>{const e=v(R().getOrElse(G()));L(()=>W(e.value));const t=I(()=>{const o=e.value.name,s=e.value.bodyWeight,g=e.value.experience,p=B(g);return{name:o,bodyWeight:s,...p}});function n(o){e.value.name=o.name,e.value.bodyWeight=o.bodyWeight}function r(o){e.value.experience+=o}return{profile:t,saveProfile:n,addXp:r}});function G(){const t=y().workouts.map(n=>A(n)).reduce((n,r)=>n+r,0);return{id:T(),name:"Guest",bodyWeight:75,experience:t}}export{A as g,C as u};
