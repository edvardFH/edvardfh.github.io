import{c as L,a as u,h as v,g as H,i as I,e as q,r as S,w as z,o as U,l as F,b as J,f as X,n as Y,j as Z,k as B,m as ee,p as j,q as te,s as k,t as N,u as C,v as oe,x as A,y as T,z as $,A as ne,B as le,C as ae}from"./index-DTEzXzRN.js";import{h as K,a as re,b as ie}from"./render-BBCsVCaz.js";import{Q as W}from"./QResizeObserver-sYWJ9KM1.js";import{s as se,g as ue,a as ce,b as de,c as O}from"./scroll-DIyiUqxO.js";import{_ as D}from"./plugin-vue:export-helper-DlAUqK2U.js";import{W as G}from"./WuBaseButton-DTWgN2sA.js";import{L as fe}from"./LevelBadge-SDaYSkMb.js";import{u as ve}from"./user-DGFp-6Gu.js";import"./use-router-link-BcCwbFR5.js";import"./QBtn-BcTyJUFr.js";import"./pinia-BcIE5th_.js";import"./workout-CtqObV6j.js";import"./Option-DiMFBWQn.js";const he=L({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:d}){const l=u(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>v("div",{class:l.value},K(d.default))}}),me=L({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:d,emit:l}){const{proxy:{$q:n}}=H(),o=I(F,q);if(o===q)return console.error("QHeader needs to be child of QLayout"),q;const i=S(parseInt(e.heightHint,10)),c=S(!0),y=u(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||n.platform.is.ios&&o.isContainer.value===!0),m=u(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return c.value===!0?i.value:0;const t=i.value-o.scroll.value.position;return t>0?t:0}),s=u(()=>e.modelValue!==!0||y.value===!0&&c.value!==!0),x=u(()=>e.modelValue===!0&&s.value===!0&&e.reveal===!0),_=u(()=>"q-header q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(s.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),b=u(()=>{const t=o.rows.value.top,h={};return t[0]==="l"&&o.left.space===!0&&(h[n.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),t[2]==="r"&&o.right.space===!0&&(h[n.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),h});function r(t,h){o.update("header",t,h)}function p(t,h){t.value!==h&&(t.value=h)}function Q({height:t}){p(i,t),r("size",t)}function R(t){x.value===!0&&p(c,!0),l("focusin",t)}z(()=>e.modelValue,t=>{r("space",t),p(c,!0),o.animate()}),z(m,t=>{r("offset",t)}),z(()=>e.reveal,t=>{t===!1&&p(c,e.modelValue)}),z(c,t=>{o.animate(),l("reveal",t)}),z(o.scroll,t=>{e.reveal===!0&&p(c,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const P={};return o.instances.header=P,e.modelValue===!0&&r("size",i.value),r("space",e.modelValue),r("offset",m.value),U(()=>{o.instances.header===P&&(o.instances.header=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const t=re(d.default,[]);return e.elevated===!0&&t.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(v(W,{debounce:0,onResize:Q})),v("header",{class:_.value,style:b.value,onFocusin:R},t)}}}),{passive:M}=J,pe=["both","horizontal","vertical"],ge=L({name:"QScrollObserver",props:{axis:{type:String,validator:e=>pe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:se},emits:["scroll"],setup(e,{emit:d}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,o,i;z(()=>e.scrollTarget,()=>{m(),y()});function c(){n?.();const _=Math.max(0,ce(o)),b=de(o),r={top:_-l.position.top,left:b-l.position.left};if(e.axis==="vertical"&&r.top===0||e.axis==="horizontal"&&r.left===0)return;const p=Math.abs(r.top)>=Math.abs(r.left)?r.top<0?"up":"down":r.left<0?"left":"right";l.position={top:_,left:b},l.directionChanged=l.direction!==p,l.delta=r,l.directionChanged===!0&&(l.direction=p,l.inflectionPoint=l.position),d("scroll",{...l})}function y(){o=ue(i,e.scrollTarget),o.addEventListener("scroll",s,M),s(!0)}function m(){o!==void 0&&(o.removeEventListener("scroll",s,M),o=void 0)}function s(_){if(_===!0||e.debounce===0||e.debounce==="0")c();else if(n===null){const[b,r]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];n=()=>{r(b),n=null}}}const{proxy:x}=H();return z(()=>x.$q.lang.rtl,c),X(()=>{i=x.$el.parentNode,y()}),U(()=>{n?.(),m()}),Object.assign(x,{trigger:s,getPosition:()=>l}),Y}}),ye=L({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:d,emit:l}){const{proxy:{$q:n}}=H(),o=S(null),i=S(n.screen.height),c=S(e.container===!0?0:n.screen.width),y=S({position:0,direction:"down",inflectionPoint:0}),m=S(0),s=S(Z.value===!0?0:O()),x=u(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),_=u(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),b=u(()=>s.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),r=u(()=>s.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function p(a){if(e.container===!0||document.qScrollPrevented!==!0){const f={position:a.position.top,direction:a.direction,directionChanged:a.directionChanged,inflectionPoint:a.inflectionPoint.top,delta:a.delta.top};y.value=f,e.onScroll!==void 0&&l("scroll",f)}}function Q(a){const{height:f,width:w}=a;let g=!1;i.value!==f&&(g=!0,i.value=f,e.onScrollHeight!==void 0&&l("scrollHeight",f),P()),c.value!==w&&(g=!0,c.value=w),g===!0&&e.onResize!==void 0&&l("resize",a)}function R({height:a}){m.value!==a&&(m.value=a,P())}function P(){if(e.container===!0){const a=i.value>m.value?O():0;s.value!==a&&(s.value=a)}}let t=null;const h={instances:{},view:u(()=>e.view),isContainer:u(()=>e.container),rootRef:o,height:i,containerHeight:m,scrollbarWidth:s,totalWidth:u(()=>c.value+s.value),rows:u(()=>{const a=e.view.toLowerCase().split(" ");return{top:a[0].split(""),middle:a[1].split(""),bottom:a[2].split("")}}),header:B({size:0,offset:0,space:!1}),right:B({size:300,offset:0,space:!1}),footer:B({size:0,offset:0,space:!1}),left:B({size:300,offset:0,space:!1}),scroll:y,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(a,f,w){h[a][f]=w}};if(j(F,h),O()>0){let a=function(){g=null,V.classList.remove("hide-scrollbar")},f=function(){if(g===null){if(V.scrollHeight>n.screen.height)return;V.classList.add("hide-scrollbar")}else clearTimeout(g);g=setTimeout(a,300)},w=function(E){g!==null&&E==="remove"&&(clearTimeout(g),a()),window[`${E}EventListener`]("resize",f)},g=null;const V=document.body;z(()=>e.container!==!0?"add":"remove",w),e.container!==!0&&w("add"),ee(()=>{w("remove")})}return()=>{const a=ie(d.default,[v(ge,{onScroll:p}),v(W,{onResize:Q})]),f=v("div",{class:x.value,style:_.value,ref:e.container===!0?void 0:o,tabindex:-1},a);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:o},[v(W,{onResize:R}),v("div",{class:"absolute-full",style:b.value},[v("div",{class:"scroll",style:r.value},[f])])]):f}}}),_e=L({name:"QPageContainer",setup(e,{slots:d}){const{proxy:{$q:l}}=H(),n=I(F,q);if(n===q)return console.error("QPageContainer needs to be child of QLayout"),q;j(te,!0);const o=u(()=>{const i={};return n.header.space===!0&&(i.paddingTop=`${n.header.size}px`),n.right.space===!0&&(i[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(i.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(i[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),i});return()=>v("div",{class:"q-page-container",style:o.value},K(d.default))}}),be={};function we(e,d){return N(),k(_e,{class:"wu-page-container"},{default:C(()=>[oe(e.$slots,"default",{},void 0,!0)]),_:3})}const Se=D(be,[["render",we],["__scopeId","data-v-65bdedef"]]),ze={class:"profile-header"},xe={class:"name"},$e=A({__name:"ProfileButton",props:{profile:{}},setup(e){return(d,l)=>(N(),k(G,{to:{name:"Profile"}},{default:C(()=>[T("div",ze,[T("span",xe,ne(d.profile.name),1),$(fe,{onColor:"var(--q-primary)",color:"white",level:d.profile.level},null,8,["level"])])]),_:1}))}}),Ce=D($e,[["__scopeId","data-v-e54ecd0d"]]),Te={class:"wrapper"},Ee=A({__name:"MainLayout",setup(e){const d=u(()=>ve().profile);return(l,n)=>{const o=ae("router-view");return N(),k(ye,{class:"layout",view:"lHh Lpr lFf"},{default:C(()=>[$(me,{elevated:""},{default:C(()=>[T("div",Te,[$(he,null,{default:C(()=>[$(G,{to:{name:"WorkoutHistory"},"no-caps":"",size:"lg",flat:""},{default:C(()=>n[0]||(n[0]=[T("div",{class:"link"},[T("span",null,[le("WORK"),T("span",{class:"sup"},"Up")])],-1)])),_:1})]),_:1}),$(Ce,{profile:d.value},null,8,["profile"])])]),_:1}),$(Se,null,{default:C(()=>[$(o)]),_:1})]),_:1})}}});export{Ee as default};
