import{c as Ae,d as De,e as Pe,f as qe,g as je,h as Le,i as pe,j as Ue,k as ze,b as re,l as Ne,m as Ke,u as Qe,a as Ye,Q as se,n as ke}from"./StringAbbreviation-C5yLjBgr.js";import{h as Xe,Q as Ze}from"./QBtn-6Z1mQVo6.js";import{r as X,w as K,d as G,J as He,a as j,c as Ee,b as Re,o as Je,h as H,K as Ge,g as We,L as ne,x as ae,M as ge,N as ve,_ as ee,s as U,t as N,u as M,v as ie,E as Te,z as V,C as Y,G as Fe,O as $e,P as et,Q as te,n as tt,R as nt,S as oe,T as de,U as ye,V as me,W as ce,X as at,Y as lt,Z as ot,F as rt,H as we,A as be,D as it}from"./index-DonzsePV.js";import{u as ut,j as st,g as dt,W as ct,c as ft,k as mt,l as gt}from"./WuPage-CbxXHYyO.js";const xe={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ue={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Be=Object.keys(ue);Be.forEach(e=>{ue[e].regex=new RegExp(ue[e].pattern)});const vt=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Be.join("")+"])|(.)","g"),_e=/[.*+?^${}()|[\]\\]/g,B="",ht={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function pt(e,t,c,a){let n,l,r,m,g,s;const b=X(null),v=X(x());function W(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}K(()=>e.type+e.autogrow,q),K(()=>e.mask,d=>{if(d!==void 0)L(v.value,!0);else{const i=A(v.value);q(),e.modelValue!==i&&t("update:modelValue",i)}}),K(()=>e.fillMask+e.reverseFillMask,()=>{b.value===!0&&L(v.value,!0)}),K(()=>e.unmaskedValue,()=>{b.value===!0&&L(v.value)});function x(){if(q(),b.value===!0){const d=F(A(e.modelValue));return e.fillMask!==!1?le(d):d}return e.modelValue}function T(d){if(d<n.length)return n.slice(-d);let i="",f=n;const u=f.indexOf(B);if(u!==-1){for(let y=d-f.length;y>0;y--)i+=B;f=f.slice(0,u)+i+f.slice(u)}return f}function q(){if(b.value=e.mask!==void 0&&e.mask.length!==0&&W(),b.value===!1){m=void 0,n="",l="";return}const d=xe[e.mask]===void 0?e.mask:xe[e.mask],i=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",f=i.replace(_e,"\\$&"),u=[],y=[],k=[];let R=e.reverseFillMask===!0,w="",C="";d.replace(vt,(O,o,E,Q,z)=>{if(Q!==void 0){const P=ue[Q];k.push(P),C=P.negate,R===!0&&(y.push("(?:"+C+"+)?("+P.pattern+"+)?(?:"+C+"+)?("+P.pattern+"+)?"),R=!1),y.push("(?:"+C+"+)?("+P.pattern+")?")}else if(E!==void 0)w="\\"+(E==="\\"?"":E),k.push(E),u.push("([^"+w+"]+)?"+w+"?");else{const P=o!==void 0?o:z;w=P==="\\"?"\\\\\\\\":P.replace(_e,"\\\\$&"),k.push(P),u.push("([^"+w+"]+)?"+w+"?")}});const J=new RegExp("^"+u.join("")+"("+(w===""?".":"[^"+w+"]")+"+)?"+(w===""?"":"["+w+"]*")+"$"),Z=y.length-1,S=y.map((O,o)=>o===0&&e.reverseFillMask===!0?new RegExp("^"+f+"*"+O):o===Z?new RegExp("^"+O+"("+(C===""?".":C)+"+)?"+(e.reverseFillMask===!0?"$":f+"*")):new RegExp("^"+O));r=k,m=O=>{const o=J.exec(e.reverseFillMask===!0?O:O.slice(0,k.length+1));o!==null&&(O=o.slice(1).join(""));const E=[],Q=S.length;for(let z=0,P=O;z<Q;z++){const $=S[z].exec(P);if($===null)break;P=P.slice($.shift().length),E.push(...$)}return E.length!==0?E.join(""):O},n=k.map(O=>typeof O=="string"?O:B).join(""),l=n.split(B).join(i)}function L(d,i,f){const u=a.value,y=u.selectionEnd,k=u.value.length-y,R=A(d);i===!0&&q();const w=F(R),C=e.fillMask!==!1?le(w):w,J=v.value!==C;u.value!==C&&(u.value=C),J===!0&&(v.value=C),document.activeElement===u&&G(()=>{if(C===l){const S=e.reverseFillMask===!0?l.length:0;u.setSelectionRange(S,S,"forward");return}if(f==="insertFromPaste"&&e.reverseFillMask!==!0){const S=u.selectionEnd;let O=y-1;for(let o=g;o<=O&&o<S;o++)n[o]!==B&&O++;p.right(u,O);return}if(["deleteContentBackward","deleteContentForward"].indexOf(f)!==-1){const S=e.reverseFillMask===!0?y===0?C.length>w.length?1:0:Math.max(0,C.length-(C===l?0:Math.min(w.length,k)+1))+1:y;u.setSelectionRange(S,S,"forward");return}if(e.reverseFillMask===!0)if(J===!0){const S=Math.max(0,C.length-(C===l?0:Math.min(w.length,k+1)));S===1&&y===1?u.setSelectionRange(S,S,"forward"):p.rightReverse(u,S)}else{const S=C.length-k;u.setSelectionRange(S,S,"backward")}else if(J===!0){const S=Math.max(0,n.indexOf(B),Math.min(w.length,y)-1);p.right(u,S)}else{const S=y-1;p.right(u,S)}});const Z=e.unmaskedValue===!0?A(C):C;String(e.modelValue)!==Z&&(e.modelValue!==null||Z!=="")&&c(Z,!0)}function h(d,i,f){const u=F(A(d.value));i=Math.max(0,n.indexOf(B),Math.min(u.length,i)),g=i,d.setSelectionRange(i,f,"forward")}const p={left(d,i){const f=n.slice(i-1).indexOf(B)===-1;let u=Math.max(0,i-1);for(;u>=0;u--)if(n[u]===B){i=u,f===!0&&i++;break}if(u<0&&n[i]!==void 0&&n[i]!==B)return p.right(d,0);i>=0&&d.setSelectionRange(i,i,"backward")},right(d,i){const f=d.value.length;let u=Math.min(f,i+1);for(;u<=f;u++)if(n[u]===B){i=u;break}else n[u-1]===B&&(i=u);if(u>f&&n[i-1]!==void 0&&n[i-1]!==B)return p.left(d,f);d.setSelectionRange(i,i,"forward")},leftReverse(d,i){const f=T(d.value.length);let u=Math.max(0,i-1);for(;u>=0;u--)if(f[u-1]===B){i=u;break}else if(f[u]===B&&(i=u,u===0))break;if(u<0&&f[i]!==void 0&&f[i]!==B)return p.rightReverse(d,0);i>=0&&d.setSelectionRange(i,i,"backward")},rightReverse(d,i){const f=d.value.length,u=T(f),y=u.slice(0,i+1).indexOf(B)===-1;let k=Math.min(f,i+1);for(;k<=f;k++)if(u[k-1]===B){i=k,i>0&&y===!0&&i--;break}if(k>f&&u[i-1]!==void 0&&u[i-1]!==B)return p.leftReverse(d,f);d.setSelectionRange(i,i,"forward")}};function I(d){t("click",d),s=void 0}function D(d){if(t("keydown",d),He(d)===!0||d.altKey===!0)return;const i=a.value,f=i.selectionStart,u=i.selectionEnd;if(d.shiftKey||(s=void 0),d.keyCode===37||d.keyCode===39){d.shiftKey&&s===void 0&&(s=i.selectionDirection==="forward"?f:u);const y=p[(d.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(d.preventDefault(),y(i,s===f?u:f),d.shiftKey){const k=i.selectionStart;i.setSelectionRange(Math.min(s,k),Math.max(s,k),"forward")}}else d.keyCode===8&&e.reverseFillMask!==!0&&f===u?(p.left(i,f),i.setSelectionRange(i.selectionStart,u,"backward")):d.keyCode===46&&e.reverseFillMask===!0&&f===u&&(p.rightReverse(i,u),i.setSelectionRange(f,i.selectionEnd,"forward"))}function F(d){if(d==null||d==="")return"";if(e.reverseFillMask===!0)return _(d);const i=r;let f=0,u="";for(let y=0;y<i.length;y++){const k=d[f],R=i[y];if(typeof R=="string")u+=R,k===R&&f++;else if(k!==void 0&&R.regex.test(k))u+=R.transform!==void 0?R.transform(k):k,f++;else return u}return u}function _(d){const i=r,f=n.indexOf(B);let u=d.length-1,y="";for(let k=i.length-1;k>=0&&u!==-1;k--){const R=i[k];let w=d[u];if(typeof R=="string")y=R+y,w===R&&u--;else if(w!==void 0&&R.regex.test(w))do y=(R.transform!==void 0?R.transform(w):w)+y,u--,w=d[u];while(f===k&&w!==void 0&&R.regex.test(w));else return y}return y}function A(d){return typeof d!="string"||m===void 0?typeof d=="number"?m(""+d):d:m(d)}function le(d){return l.length-d.length<=0?d:e.reverseFillMask===!0&&d.length!==0?l.slice(0,-d.length)+d:d+l.slice(d.length)}return{innerValue:v,hasMask:b,moveCursorForPaste:h,updateMaskValue:L,onMaskedKeydown:D,onMaskedClick:I}}function kt(e,t){function c(){const a=e.modelValue;try{const n="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(l=>{n.items.add(l)}),{files:n.files}}catch{return{files:void 0}}}return j(()=>{if(e.type==="file")return c()})}const Oe=Ee({name:"QInput",inheritAttrs:!1,props:{...Ae,...ht,...De,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Pe,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:c}){const{proxy:a}=We(),{$q:n}=a,l={};let r=NaN,m,g,s=null,b;const v=X(null),W=qe(e),{innerValue:x,hasMask:T,moveCursorForPaste:q,updateMaskValue:L,onMaskedKeydown:h,onMaskedClick:p}=pt(e,t,w,v),I=kt(e),D=j(()=>pe(x.value)),F=ze(k),_=je({changeEvent:!0}),A=j(()=>e.type==="textarea"||e.autogrow===!0),le=j(()=>A.value===!0||["text","search","url","tel","password"].includes(e.type)),d=j(()=>{const o={..._.splitAttrs.listeners.value,onInput:k,onPaste:y,onChange:J,onBlur:Z,onFocus:ne};return o.onCompositionstart=o.onCompositionupdate=o.onCompositionend=F,T.value===!0&&(o.onKeydown=h,o.onClick=p),e.autogrow===!0&&(o.onAnimationend=R),o}),i=j(()=>{const o={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:W.value,..._.splitAttrs.attributes.value,id:_.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return A.value===!1&&(o.type=e.type),e.autogrow===!0&&(o.rows=1),o});K(()=>e.type,()=>{v.value&&(v.value.value=e.modelValue)}),K(()=>e.modelValue,o=>{if(T.value===!0){if(g===!0&&(g=!1,String(o)===r))return;L(o)}else x.value!==o&&(x.value=o,e.type==="number"&&l.hasOwnProperty("value")===!0&&(m===!0?m=!1:delete l.value));e.autogrow===!0&&G(C)}),K(()=>e.autogrow,o=>{o===!0?G(C):v.value!==null&&c.rows>0&&(v.value.style.height="auto")}),K(()=>e.dense,()=>{e.autogrow===!0&&G(C)});function f(){Ue(()=>{const o=document.activeElement;v.value!==null&&v.value!==o&&(o===null||o.id!==_.targetUid.value)&&v.value.focus({preventScroll:!0})})}function u(){v.value!==null&&v.value.select()}function y(o){if(T.value===!0&&e.reverseFillMask!==!0){const E=o.target;q(E,E.selectionStart,E.selectionEnd)}t("paste",o)}function k(o){if(!o||!o.target)return;if(e.type==="file"){t("update:modelValue",o.target.files);return}const E=o.target.value;if(o.target.qComposing===!0){l.value=E;return}if(T.value===!0)L(E,!1,o.inputType);else if(w(E),le.value===!0&&o.target===document.activeElement){const{selectionStart:Q,selectionEnd:z}=o.target;Q!==void 0&&z!==void 0&&G(()=>{o.target===document.activeElement&&E.indexOf(o.target.value)===0&&o.target.setSelectionRange(Q,z)})}e.autogrow===!0&&C()}function R(o){t("animationend",o),C()}function w(o,E){b=()=>{s=null,e.type!=="number"&&l.hasOwnProperty("value")===!0&&delete l.value,e.modelValue!==o&&r!==o&&(r=o,E===!0&&(g=!0),t("update:modelValue",o),G(()=>{r===o&&(r=NaN)})),b=void 0},e.type==="number"&&(m=!0,l.value=o),e.debounce!==void 0?(s!==null&&clearTimeout(s),l.value=o,s=setTimeout(b,e.debounce)):b()}function C(){requestAnimationFrame(()=>{const o=v.value;if(o!==null){const E=o.parentNode.style,{scrollTop:Q}=o,{overflowY:z,maxHeight:P}=n.platform.is.firefox===!0?{}:window.getComputedStyle(o),$=z!==void 0&&z!=="scroll";$===!0&&(o.style.overflowY="hidden"),E.marginBottom=o.scrollHeight-1+"px",o.style.height="1px",o.style.height=o.scrollHeight+"px",$===!0&&(o.style.overflowY=parseInt(P,10)<o.scrollHeight?"auto":"hidden"),E.marginBottom="",o.scrollTop=Q}})}function J(o){F(o),s!==null&&(clearTimeout(s),s=null),b!==void 0&&b(),t("change",o.target.value)}function Z(o){o!==void 0&&ne(o),s!==null&&(clearTimeout(s),s=null),b!==void 0&&b(),m=!1,g=!1,delete l.value,e.type!=="file"&&setTimeout(()=>{v.value!==null&&(v.value.value=x.value!==void 0?x.value:"")})}function S(){return l.hasOwnProperty("value")===!0?l.value:x.value!==void 0?x.value:""}Re(()=>{Z()}),Je(()=>{e.autogrow===!0&&C()}),Object.assign(_,{innerValue:x,fieldClass:j(()=>`q-${A.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:j(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:v,emitValue:w,hasValue:D,floatingLabel:j(()=>D.value===!0&&(e.type!=="number"||isNaN(x.value)===!1)||pe(e.displayValue)),getControl:()=>H(A.value===!0?"textarea":"input",{ref:v,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...i.value,...d.value,...e.type!=="file"?{value:S()}:I.value}),getShadowControl:()=>H("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(A.value===!0?"":" text-no-wrap")},[H("span",{class:"invisible"},S()),H("span",e.shadowText)])});const O=Le(_);return Object.assign(a,{focus:f,select:u,getNativeElement:()=>v.value}),Ge(a,"nativeEl",()=>v.value),O}}),yt=ae({__name:"WuBaseInput",props:ge({placeholder:{},label:{},focus:{type:Boolean},textRight:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const c=e,a=X(),n=ve(e,"modelValue");K(()=>c.focus,async()=>{await G(),c.focus&&a.value?.focus()},{immediate:!0});const l={props:c,inputRef:a,model:n,get QInput(){return Oe}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function wt(e,t,c,a,n,l){return U(),N(a.QInput,{label:c.label,ref:"inputRef",filled:"",dense:"",placeholder:c.placeholder??"","input-class":{"text-right":c.textRight},modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model=r)},{append:M(()=>[ie(e.$slots,"default",{},void 0,!0)]),_:3},8,["label","placeholder","input-class","modelValue"])}const Ie=ee(yt,[["render",wt],["__scopeId","data-v-41f9fccd"],["__file","WuBaseInput.vue"]]),bt={};function xt(e,t){return U(),N(re,null,{default:M(()=>[ie(e.$slots,"default")]),_:3})}const _t=ee(bt,[["render",xt],["__file","WuTd.vue"]]),Mt=ae({__name:"RoundEdit",props:ge({focus:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const a={model:ve(e,"modelValue"),WuBaseInput:Ie,WuTd:_t};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Ct(e,t,c,a,n,l){return U(),Te(Fe,null,[V(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:M(()=>[V(a.WuBaseInput,{focus:!!c.focus,"text-right":"",modelValue:a.model.exercice.name,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model.exercice.name=r)},null,8,["focus","modelValue"])]),_:1}),V(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:M(()=>[V(a.WuBaseInput,{class:"input",mask:"###","text-right":"",modelValue:a.model.repetitions,"onUpdate:modelValue":t[1]||(t[1]=r=>a.model.repetitions=r),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),V(a.WuTd,{style:{"padding-left":"8px","padding-right":"0"}},{default:M(()=>[V(a.WuBaseInput,{class:"input",mask:"###","text-right":"",modelValue:a.model.weight,"onUpdate:modelValue":t[2]||(t[2]=r=>a.model.weight=r),modelModifiers:{number:!0}},{default:M(()=>t[4]||(t[4]=[Y("span",{class:"unit"},"kg",-1)])),_:1},8,["modelValue"])]),_:1}),V(a.WuTd,{style:{"padding-left":"8px","padding-right":"8px"}},{default:M(()=>[V(a.WuBaseInput,{class:"input",mask:"###","text-right":"",modelValue:a.model.restTime,"onUpdate:modelValue":t[3]||(t[3]=r=>a.model.restTime=r),modelModifiers:{number:!0}},{default:M(()=>t[5]||(t[5]=[Y("span",{class:"unit"},"s",-1)])),_:1},8,["modelValue"])]),_:1})],64)}const St=ee(Mt,[["render",Ct],["__scopeId","data-v-e71a8430"],["__file","RoundEdit.vue"]]),Vt=ae({__name:"WuBaseTextarea",props:ge({placeholder:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){t();const a={model:ve(e,"modelValue")};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Et(e,t,c,a,n,l){return U(),N(Oe,{placeholder:c.placeholder??"",filled:"",dense:"",autogrow:"",modelValue:a.model,"onUpdate:modelValue":t[0]||(t[0]=r=>a.model=r)},null,8,["placeholder","modelValue"])}const Rt=ee(Vt,[["render",Et],["__scopeId","data-v-422bb83b"],["__file","WuBaseTextarea.vue"]]);function Me(e){const t=$e(e);return t!==void 0?Wt(t):X(t)}function Wt(e){const t=JSON.parse(JSON.stringify(e));return X(t)}const he={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Tt=Object.keys(he);he.all=!0;function Ce(e){const t={};for(const c of Tt)e[c]===!0&&(t[c]=!0);return Object.keys(t).length===0?he:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Ft=["INPUT","TEXTAREA"];function Se(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Ft.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function fe(e,t,c){const a=me(e);let n,l=a.left-t.event.x,r=a.top-t.event.y,m=Math.abs(l),g=Math.abs(r);const s=t.direction;s.horizontal===!0&&s.vertical!==!0?n=l<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?n=r<0?"up":"down":s.up===!0&&r<0?(n="up",m>g&&(s.left===!0&&l<0?n="left":s.right===!0&&l>0&&(n="right"))):s.down===!0&&r>0?(n="down",m>g&&(s.left===!0&&l<0?n="left":s.right===!0&&l>0&&(n="right"))):s.left===!0&&l<0?(n="left",m<g&&(s.up===!0&&r<0?n="up":s.down===!0&&r>0&&(n="down"))):s.right===!0&&l>0&&(n="right",m<g&&(s.up===!0&&r<0?n="up":s.down===!0&&r>0&&(n="down")));let b=!1;if(n===void 0&&c===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};n=t.event.lastDir,b=!0,n==="left"||n==="right"?(a.left-=l,m=0,l=0):(a.top-=r,g=0,r=0)}return{synthetic:b,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:a,direction:n,isFirst:t.event.isFirst,isFinal:c===!0,duration:Date.now()-t.event.time,distance:{x:m,y:g},offset:{x:l,y:r},delta:{x:a.left-t.event.lastX,y:a.top-t.event.lastY}}}}let Bt=0;const Ot=et({name:"touch-pan",beforeMount(e,{value:t,modifiers:c}){if(c.mouse!==!0&&te.has.touch!==!0)return;function a(l,r){c.mouse===!0&&r===!0?at(l):(c.stop===!0&&ne(l),c.prevent===!0&&ye(l))}const n={uid:"qvtp_"+Bt++,handler:t,modifiers:c,direction:Ce(c),noop:tt,mouseStart(l){Se(l,n)&&nt(l)&&(oe(n,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),n.start(l,!0))},touchStart(l){if(Se(l,n)){const r=l.target;oe(n,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),n.start(l)}},start(l,r){if(te.is.firefox===!0&&de(e,!0),n.lastEvt=l,r===!0||c.stop===!0){if(n.direction.all!==!0&&(r!==!0||n.modifiers.mouseAllDir!==!0&&n.modifiers.mousealldir!==!0)){const s=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&ye(s),l.cancelBubble===!0&&ne(s),Object.assign(s,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[n.uid]:l.qClonedBy.concat(n.uid)}),n.initialEvent={target:l.target,event:s}}ne(l)}const{left:m,top:g}=me(l);n.event={x:m,y:g,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:m,lastY:g}},move(l){if(n.event===void 0)return;const r=me(l),m=r.left-n.event.x,g=r.top-n.event.y;if(m===0&&g===0)return;n.lastEvt=l;const s=n.event.mouse===!0,b=()=>{a(l,s);let x;c.preserveCursor!==!0&&c.preservecursor!==!0&&(x=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ne(),n.styleCleanup=T=>{if(n.styleCleanup=void 0,x!==void 0&&(document.documentElement.style.cursor=x),document.body.classList.remove("non-selectable"),s===!0){const q=()=>{document.body.classList.remove("no-pointer-events--children")};T!==void 0?setTimeout(()=>{q(),T()},50):q()}else T!==void 0&&T()}};if(n.event.detected===!0){n.event.isFirst!==!0&&a(l,n.event.mouse);const{payload:x,synthetic:T}=fe(l,n,!1);x!==void 0&&(n.handler(x)===!1?n.end(l):(n.styleCleanup===void 0&&n.event.isFirst===!0&&b(),n.event.lastX=x.position.left,n.event.lastY=x.position.top,n.event.lastDir=T===!0?void 0:x.direction,n.event.isFirst=!1));return}if(n.direction.all===!0||s===!0&&(n.modifiers.mouseAllDir===!0||n.modifiers.mousealldir===!0)){b(),n.event.detected=!0,n.move(l);return}const v=Math.abs(m),W=Math.abs(g);v!==W&&(n.direction.horizontal===!0&&v>W||n.direction.vertical===!0&&v<W||n.direction.up===!0&&v<W&&g<0||n.direction.down===!0&&v<W&&g>0||n.direction.left===!0&&v>W&&m<0||n.direction.right===!0&&v>W&&m>0?(n.event.detected=!0,n.move(l)):n.end(l,!0))},end(l,r){if(n.event!==void 0){if(ce(n,"temp"),te.is.firefox===!0&&de(e,!1),r===!0)n.styleCleanup!==void 0&&n.styleCleanup(),n.event.detected!==!0&&n.initialEvent!==void 0&&n.initialEvent.target.dispatchEvent(n.initialEvent.event);else if(n.event.detected===!0){n.event.isFirst===!0&&n.handler(fe(l===void 0?n.lastEvt:l,n).payload);const{payload:m}=fe(l===void 0?n.lastEvt:l,n,!0),g=()=>{n.handler(m)};n.styleCleanup!==void 0?n.styleCleanup(g):g()}n.event=void 0,n.initialEvent=void 0,n.lastEvt=void 0}}};if(e.__qtouchpan=n,c.mouse===!0){const l=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";oe(n,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}te.has.touch===!0&&oe(n,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const c=e.__qtouchpan;c!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&c.end(),c.handler=t.value),c.direction=Ce(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),ce(t,"main"),ce(t,"temp"),te.is.firefox===!0&&de(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function It(){let e=Object.create(null);return{getCache:(t,c)=>e[t]===void 0?e[t]=typeof c=="function"?c():c:e[t],setCache(t,c){e[t]=c},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const Ve=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]],At=Ee({name:"QSlideItem",props:{...ut,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:c}){const{proxy:a}=We(),{$q:n}=a,l=st(e,n),{getCache:r}=It(),m=X(null);let g=null,s={},b={},v={};const W=j(()=>n.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),x=j(()=>"q-slide-item q-item-type overflow-hidden"+(l.value===!0?" q-slide-item--dark q-dark":""));function T(){m.value.style.transform="translate(0,0)"}function q(h,p,I){e.onSlide!==void 0&&c("slide",{side:h,ratio:p,isReset:I})}function L(h){const p=m.value;if(h.isFirst)s={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},p.classList.add("no-transition"),Ve.forEach(_=>{if(t[_[0]]!==void 0){const A=v[_[0]];A.style.transform="scale(1)",s.size[_[0]]=A.getBoundingClientRect()[_[3]]}}),s.axis=h.direction==="up"||h.direction==="down"?"Y":"X";else if(h.isFinal){p.classList.remove("no-transition"),s.scale===1?(p.style.transform=`translate${s.axis}(${s.dir*100}%)`,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,c(s.showing,{reset:T}),c("action",{side:s.showing,reset:T})},230)):(p.style.transform="translate(0,0)",q(s.showing,0,!0));return}else h.direction=s.axis==="X"?h.offset.x<0?"left":"right":h.offset.y<0?"up":"down";if(t.left===void 0&&h.direction===W.value.right||t.right===void 0&&h.direction===W.value.left||t.top===void 0&&h.direction==="down"||t.bottom===void 0&&h.direction==="up"){p.style.transform="translate(0,0)";return}let I,D,F;s.axis==="X"?(D=h.direction==="left"?-1:1,I=D===1?W.value.left:W.value.right,F=h.distance.x):(D=h.direction==="up"?-2:2,I=D===2?"top":"bottom",F=h.distance.y),!(s.dir!==null&&Math.abs(D)!==Math.abs(s.dir))&&(s.dir!==D&&(["left","right","top","bottom"].forEach(_=>{b[_]&&(b[_].style.visibility=I===_?"visible":"hidden")}),s.showing=I,s.dir=D),s.scale=Math.max(0,Math.min(1,(F-40)/s.size[I])),p.style.transform=`translate${s.axis}(${F*D/Math.abs(D)}px)`,v[I].style.transform=`scale(${s.scale})`,q(I,s.scale,!1))}return lt(()=>{b={},v={}}),Re(()=>{g!==null&&clearTimeout(g)}),Object.assign(a,{reset:T}),()=>{const h=[],p={left:t[W.value.right]!==void 0,right:t[W.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},I=Object.keys(p).filter(F=>p[F]===!0);Ve.forEach(F=>{const _=F[0];t[_]!==void 0&&h.push(H("div",{key:_,ref:A=>{b[_]=A},class:`q-slide-item__${_} absolute-full row no-wrap items-${F[1]} justify-${F[2]}`+(e[_+"Color"]!==void 0?` bg-${e[_+"Color"]}`:"")},[H("div",{ref:A=>{v[_]=A}},t[_]())]))});const D=H("div",{key:`${I.length===0?"only-":""} content`,ref:m,class:"q-slide-item__content"},Xe(t.default));return I.length===0?h.push(D):h.push(ot(D,r("dir#"+I.join(""),()=>{const F={prevent:!0,stop:!0,mouse:!0};return I.forEach(_=>{F[_]=!0}),[[Ot,L,void 0,F]]}))),H("div",{class:x.value},h)}}}),Dt=ae({__name:"WuSlideItem",props:{color:{}},setup(e,{expose:t}){t();const c={get getStringOrEmpty(){return dt}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function Pt(e,t,c,a,n,l){return U(),N(At,{"right-color":a.getStringOrEmpty(c.color)},{right:M(()=>[ie(e.$slots,"right")]),default:M(()=>[ie(e.$slots,"default")]),_:3},8,["right-color"])}const qt=ee(Dt,[["render",Pt],["__file","WuSlideItem.vue"]]),jt=ae({__name:"WorkoutEdit",props:{workout:{}},setup(e,{expose:t}){t();const c=e,{isScreenLarge:a}=Ke(),{getReactiveStr:n}=Qe(),l=j(()=>[{name:"exercise",label:n("Exercise","Exer.").value,field:h=>h.exercice.name},{name:"repetitions",label:n("Repetitions","Reps.").value,field:"repetitions"},{name:"weight",label:n("Weight","Wgt.").value,field:"weight"},{name:"restTime",label:n("Rest Time","Rest").value,field:"restTime"}]);function r(){return c.workout.id?{name:"WorkoutDetails",params:{workoutId:c.workout.id}}:{name:"HomePage"}}function m(){g.value.id?mt(g.value):gt(g.value)}const g=Me(c.workout),s=j(()=>g.value.rounds.at(-1));function b(){const h=Me(s.value),p={exercice:{name:"",category:""},repetitions:"",weight:"",restTime:""};g.value.rounds.push(h.value??p)}function v(h){g.value.rounds=g.value.rounds.filter(p=>p!==h),console.log(h)}function W(h,p){v(p),h.reset()}const x=X(!1),T=j(()=>h=>x.value&&h===s.value);K(()=>g.value.rounds.length,(h,p)=>{if(h<=p){x.value=!1;return}x.value=!0},{flush:"post"});const q=X(),L={props:c,isScreenLarge:a,getReactiveStr:n,columns:l,getDetailsPageRoute:r,saveUpdates:m,editedWorkout:g,lastRound:s,addRound:b,removeRound:v,onRight:W,isFocusActivated:x,isFocused:T,tableRef:q,RoundEdit:St,WuBaseInput:Ie,WuBaseTextarea:Rt,get QTable(){return Ye},WuBaseButton:ct,WorkoutLayout:ft,WuSlideItem:qt};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}}),Lt={class:"wu-header-wrapper"};function Ut(e,t,c,a,n,l){return U(),N(a.WorkoutLayout,null,{header:M(()=>[Y("div",Lt,[Y("div",null,[V(a.WuBaseInput,{class:"date",modelValue:a.editedWorkout.date,"onUpdate:modelValue":t[0]||(t[0]=r=>a.editedWorkout.date=r),mask:"####/##/##",placeholder:"Date"},null,8,["modelValue"]),V(a.WuBaseInput,{class:"small-input hide-when-large",modelValue:a.editedWorkout.totalDuration,"onUpdate:modelValue":t[1]||(t[1]=r=>a.editedWorkout.totalDuration=r),placeholder:"Duration",mask:"###"},{default:M(()=>t[5]||(t[5]=[Y("span",{style:{"font-size":"small"}},"min",-1)])),_:1},8,["modelValue"])]),Y("div",null,[V(a.WuBaseInput,{modelValue:a.editedWorkout.name,"onUpdate:modelValue":t[2]||(t[2]=r=>a.editedWorkout.name=r),placeholder:"Title",class:"workout-title text-h5"},null,8,["modelValue"]),V(a.WuBaseInput,{class:"small-input hide-when-small",modelValue:a.editedWorkout.totalDuration,"onUpdate:modelValue":t[3]||(t[3]=r=>a.editedWorkout.totalDuration=r),placeholder:"Duration",mask:"###"},{default:M(()=>t[6]||(t[6]=[Y("span",{style:{"font-size":"small"}},"min",-1)])),_:1},8,["modelValue"])]),Y("div",null,[V(a.WuBaseTextarea,{class:"workout-notes",modelValue:a.editedWorkout.notes,"onUpdate:modelValue":t[4]||(t[4]=r=>a.editedWorkout.notes=r),placeholder:"Notes"},null,8,["modelValue"])])])]),body:M(()=>[V(a.QTable,{style:{"border-radius":"var(--wu-border-radius)"},ref:"tableRef",flat:"",dense:"",rows:a.editedWorkout.rounds,columns:a.columns,"row-key":"index",bordered:"","hide-pagination":"","rows-per-page-options":[0]},{header:M(r=>[V(se,{props:r},{default:M(()=>[(U(!0),Te(Fe,null,rt(r.cols,m=>(U(),N(ke,{key:m.name,props:r},{default:M(()=>[be(it(m.label),1)]),_:2},1032,["props"]))),128)),a.isScreenLarge?(U(),N(ke,{key:0,"auto-width":""})):we("",!0)]),_:2},1032,["props"])]),body:M(r=>[V(se,{props:r},{default:M(()=>[a.isScreenLarge?(U(),N(a.RoundEdit,{key:0,modelValue:r.row,"onUpdate:modelValue":m=>r.row=m,focus:a.isFocused(r.row)},null,8,["modelValue","onUpdate:modelValue","focus"])):we("",!0),a.isScreenLarge?(U(),N(re,{key:1,"auto-width":""},{default:M(()=>[V(a.WuBaseButton,{tertiary:"",icon:"close",onClick:m=>a.removeRound(r.row)},null,8,["onClick"])]),_:2},1024)):(U(),N(re,{key:2,colspan:a.columns.length,style:{padding:"0"}},{default:M(()=>[V(a.WuSlideItem,{onRight:m=>a.onRight(m,r.row),color:"red"},{right:M(()=>t[7]||(t[7]=[be(" Delete ")])),default:M(()=>[V(a.RoundEdit,{modelValue:r.row,"onUpdate:modelValue":m=>r.row=m,focus:a.isFocused(r.row)},null,8,["modelValue","onUpdate:modelValue","focus"])]),_:2},1032,["onRight"])]),_:2},1032,["colspan"]))]),_:2},1032,["props"])]),"no-data":M(()=>t[8]||(t[8]=[Y("span",{class:"row justify-center text-grey-8",style:{width:"100%"}}," Your rounds will appear here ",-1)])),"bottom-row":M(()=>[V(se,null,{default:M(()=>[V(re,{colspan:"100%",style:{padding:"0"}},{default:M(()=>[V(Ze,{flat:"",icon:"add",ripple:!1,padding:"0",style:{width:"100%",height:"40px"},onClick:a.addRound})]),_:1})]),_:1})]),_:1},8,["rows","columns"])]),footer:M(()=>[V(a.WuBaseButton,{class:"q-mr-md",secondary:"",icon:"arrow_back",label:"Return",to:a.getDetailsPageRoute()},null,8,["to"]),V(a.WuBaseButton,{icon:"check",primary:"",label:"Save",color:"primary",onClick:a.saveUpdates,to:a.getDetailsPageRoute()},null,8,["to"])]),_:1})}const Yt=ee(jt,[["render",Ut],["__scopeId","data-v-951cdcbc"],["__file","WorkoutEdit.vue"]]);export{Yt as W};
